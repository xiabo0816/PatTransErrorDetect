<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE business:PatentDocumentAndRelated SYSTEM "/DTDS/ExternalStandards/ipphdb-entities.dtd"[]>
<business:PatentDocumentAndRelated xmlns:base="http://www.sipo.gov.cn/XMLSchema/base" xmlns:business="http://www.sipo.gov.cn/XMLSchema/business" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:tbl="http://oasis-open.org/specs/soextblx" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.sipo.gov.cn/XMLSchema/business /DTDS/PatentDocument/Elements/OtherElements.xsd" xsdVersion="V2.2.1" file="JP102014000265850JP00020161276840AFULJA20160711JP00N.XML" dateProduced="20160812" status="C" lang="ja" country="JP" docNumber="2016127684" kind="A" datePublication="20160711">
  <business:BibliographicData lang="ja" country="JP">
    <business:PublicationReference dataFormat="standard" sequence="1">
      <base:DocumentID>
        <base:WIPOST3Code>JP</base:WIPOST3Code>
        <base:DocNumber>2016127684</base:DocNumber>
        <base:Kind>A</base:Kind>
        <base:Date>20160711</base:Date>
      </base:DocumentID>
    </business:PublicationReference>
    <business:PublicationReference dataFormat="original" sourceDB="JP" sequence="1">
      <base:DocumentID>
        <base:WIPOST3Code>JP</base:WIPOST3Code>
        <base:DocNumber>2016127684</base:DocNumber>
        <base:Kind>A</base:Kind>
        <base:Date>20160711</base:Date>
      </base:DocumentID>
    </business:PublicationReference>
    <business:PlainLanguageDesignation lang="ja">公開特許公報(A)</business:PlainLanguageDesignation>
    <business:ApplicationReference applType="10" dataFormat="standard" sequence="1">
      <base:DocumentID>
        <base:WIPOST3Code>JP</base:WIPOST3Code>
        <base:DocNumber>102014000265850</base:DocNumber>
        <base:Date>20141226</base:Date>
      </base:DocumentID>
    </business:ApplicationReference>
    <business:ApplicationReference applType="10" dataFormat="original" sequence="1" sourceDB="JP">
      <base:DocumentID>
        <base:WIPOST3Code>JP</base:WIPOST3Code>
        <base:DocNumber>2014265850</base:DocNumber>
        <base:Date>20141226</base:Date>
      </base:DocumentID>
    </business:ApplicationReference>
    <business:ClassificationIPCRDetails>
      <business:ClassificationIPCR sequence="1">
        <business:IPCVersionDate>20060101</business:IPCVersionDate>
        <business:ClassificationLevel>A</business:ClassificationLevel>
        <business:Section>H</business:Section>
        <business:MainClass>02</business:MainClass>
        <business:Subclass>P</business:Subclass>
        <business:MainGroup>8</business:MainGroup>
        <business:Subgroup>32</business:Subgroup>
        <business:SymbolPosition>F</business:SymbolPosition>
        <business:ClassificationValue>I</business:ClassificationValue>
        <base:ActionDate>
          <base:Date>20160613</base:Date>
        </base:ActionDate>
        <business:GeneratingOffice>
          <base:WIPOST3Code>JP</base:WIPOST3Code>
        </business:GeneratingOffice>
        <business:ClassificationStatus>B</business:ClassificationStatus>
        <business:ClassificationDataSource>H</business:ClassificationDataSource>
        <base:Text>H02P   8/32        20060101AFI20160613BHJP        </base:Text>
      </business:ClassificationIPCR>
      <business:ClassificationIPCR sequence="2">
        <business:IPCVersionDate>20060101</business:IPCVersionDate>
        <business:ClassificationLevel>A</business:ClassificationLevel>
        <business:Section>G</business:Section>
        <business:MainClass>03</business:MainClass>
        <business:Subclass>G</business:Subclass>
        <business:MainGroup>21</business:MainGroup>
        <business:Subgroup>14</business:Subgroup>
        <business:SymbolPosition>L</business:SymbolPosition>
        <business:ClassificationValue>I</business:ClassificationValue>
        <base:ActionDate>
          <base:Date>20160613</base:Date>
        </base:ActionDate>
        <business:GeneratingOffice>
          <base:WIPOST3Code>JP</base:WIPOST3Code>
        </business:GeneratingOffice>
        <business:ClassificationStatus>B</business:ClassificationStatus>
        <business:ClassificationDataSource>H</business:ClassificationDataSource>
        <base:Text>G03G  21/14        20060101ALI20160613BHJP        </base:Text>
      </business:ClassificationIPCR>
    </business:ClassificationIPCRDetails>
    <business:JPClassification>
      <business:FI type="main">H02P8/32</business:FI>
      <business:FI type="secondary">G03G21/14</business:FI>
      <business:FClass>
        <business:FTerm>2H270LA98</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>2H270LC04</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>2H270LC05</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>2H270MB29</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>2H270MB43</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>2H270MC78</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>2H270MD12</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>2H270MH06</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>2H270MH09</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>2H270ZC03</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>2H270ZC04</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>2H270ZC05</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>2H270ZC06</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5H580AA07</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5H580CB04</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5H580EE03</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5H580FA14</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5H580FA24</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5H580HH22</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5H580HH40</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:Theme>2H270</business:Theme>
      </business:FClass>
      <business:FClass>
        <business:Theme>5H580</business:Theme>
      </business:FClass>
    </business:JPClassification>
    <business:InventionTitle lang="ja" dataFormat="original" sourceDB="JP">モーター駆動装置</business:InventionTitle>
    <business:Parties>
      <business:ApplicantDetails>
        <business:Applicant sequence="1" dataFormat="original" sourceDB="JP">
          <base:AddressBook lang="ja">
            <base:Name>京セラドキュメントソリューションズ株式会社</base:Name>
            <base:RegisteredNumber>000006150</base:RegisteredNumber>
            <base:Address>
              <base:AddressLine>0</base:AddressLine>
              <base:AddressMailCode>0</base:AddressMailCode>
              <base:PostBox>0</base:PostBox>
              <base:AddressRoom>0</base:AddressRoom>
              <base:AddressFloor>0</base:AddressFloor>
              <base:AddressBuilding>0</base:AddressBuilding>
              <base:Street>0</base:Street>
              <base:AddressCity>0</base:AddressCity>
              <base:County>0</base:County>
              <base:City>0</base:City>
              <base:Province>0</base:Province>
              <base:PostCode>0</base:PostCode>
              <base:WIPOST3Code>XP</base:WIPOST3Code>
              <base:Text>大阪府大阪市中央区玉造１丁目２番２８号</base:Text>
            </base:Address>
          </base:AddressBook>
          <business:OrganizationCode createDate="00000000" creator="00">0000000000</business:OrganizationCode>
        </business:Applicant>
      </business:ApplicantDetails>
      <business:InventorDetails>
        <business:Inventor sequence="1" dataFormat="original" sourceDB="JP">
          <base:AddressBook lang="ja">
            <base:Name>青野  信也</base:Name>
            <base:Address>
              <base:AddressLine>0</base:AddressLine>
              <base:AddressMailCode>0</base:AddressMailCode>
              <base:PostBox>0</base:PostBox>
              <base:AddressRoom>0</base:AddressRoom>
              <base:AddressFloor>0</base:AddressFloor>
              <base:AddressBuilding>0</base:AddressBuilding>
              <base:Street>0</base:Street>
              <base:AddressCity>0</base:AddressCity>
              <base:County>0</base:County>
              <base:City>0</base:City>
              <base:Province>0</base:Province>
              <base:PostCode>0</base:PostCode>
              <base:WIPOST3Code>XP</base:WIPOST3Code>
              <base:Text>大阪府大阪市中央区玉造１丁目２番２８号  京セラドキュメントソリューションズ株式会社内</base:Text>
            </base:Address>
          </base:AddressBook>
        </business:Inventor>
      </business:InventorDetails>
      <business:AgentDetails>
        <business:CustomerNumber>00000</business:CustomerNumber>
        <business:Agent sequence="1" dataFormat="original" sourceDB="JP" repType="agent">
          <base:AddressBook lang="ja">
            <base:Name>堀  城之</base:Name>
            <base:RegisteredNumber>100097113</base:RegisteredNumber>
          </base:AddressBook>
        </business:Agent>
        <business:Agent sequence="2" dataFormat="original" sourceDB="JP" repType="agent">
          <base:AddressBook lang="ja">
            <base:Name>前島  幸彦</base:Name>
            <base:RegisteredNumber>100162363</base:RegisteredNumber>
          </base:AddressBook>
        </business:Agent>
      </business:AgentDetails>
    </business:Parties>
    <business:SpecificBibliographicData>
      <business:OriginalKindCode>A</business:OriginalKindCode>
    </business:SpecificBibliographicData>
    <business:StatisticalInformation>
      <business:ClaimsCount>6</business:ClaimsCount>
      <base:TotalPageCount>11</base:TotalPageCount>
    </business:StatisticalInformation>
  </business:BibliographicData>
  <business:Abstract dataFormat="original" lang="ja" sourceDB="JP">
    <base:Paragraphs>【課題】制御クロックによる切り替えタイミングのズレを軽減することができる適切なチョッピング周波数でチョッピング動作を行うことができるモーター駆動装置を提供する。【解決手段】複数のチョッピング周波数を設定可能に構成されチョッピング周波数設定部５と、チョッピング周波数設定部５によって設定されたチョッピング周波数によってチョッピング動作を行う励磁制御部３と、ステッピングモーター１の駆動に起因する振動を検出する振動検出部７とを備え、ステッピングモーター１の駆動時に、チョッピング周波数設定部５によって設定可能なそれぞれのチョッピング周波数で励磁制御部３によってそれぞれチョッピング動作を行わせ、振動検出部７による検出結果に基づいて、モニター周波数の周波数レベルが最小となるチョッピング周波数に、チョッピング周波数設定部５に設定するチョッピング周波数を決定する。【選択図】図１</base:Paragraphs>
    <business:AbstractFigure>
      <base:Figure num="0001">
        <base:Image id="000002" he="29" wi="69" file="2016127684_000002.TIF" imgFormat="TIFF" imgContent="drawing" />
      </base:Figure>
    </business:AbstractFigure>
  </business:Abstract>
  <business:Description dataFormat="original" sourceDB="JP">
    <business:TechnicalField>
      <base:Paragraphs num="0001">
  本発明は、複写機やプリンタ、ファクシミリ等の画像形成装置で使用するステッピングモーターを駆動するステッピングモーター駆動装置に関する。
</base:Paragraphs>
    </business:TechnicalField>
    <business:BackgroundArt>
      <base:Paragraphs num="0002">
  複写機やプリンタ、ファクシミリ等の画像形成装置において、ステッピングモーターをオープンループによるモーター制御で駆動するモーター駆動装置が一般的に用いられている。オープンループによるモーター制御では、エンコーダ、タコジェネレータ等のセンサーによって検出する回転角、回転速度等の情報をフィードバックする必要が無く、これらのセンサーを省略でき、コスト面で有利となる（例えば、特許文献１参照）。
</base:Paragraphs>
    </business:BackgroundArt>
    <business:CitationList>
      <business:PatentDocumentation>
        <base:Paragraphs num="0003">
          <business:ApplicationCitation num="0001">
            <base:Text>特開２００２－７８３８５号公報</base:Text>
          </business:ApplicationCitation>
        </base:Paragraphs>
      </business:PatentDocumentation>
    </business:CitationList>
    <business:InventionSummary>
      <business:TechnicalProblem>
        <base:Paragraphs num="0004">
  しかしながら、オープンループによるモーター制御では、制御クロックに同期してＡ相／Ｂ相のコイル（励磁相）への給電が切り替えられるが、チョッピング動作によってモーター駆動電流を一定にする定電流制御を行う場合、ハード的な制約により、制御クロックによる給電の切り替えタイミングにズレが発生し、それに起因する振動が発生してしまう。
</base:Paragraphs>
        <base:Paragraphs num="0005">
  ステッピングモーターの駆動は、Ａ相／Ｂ相のコイルへの給電を切り替えることによって行われる。コイルへの給電の切り替えは、回転数に応じて設定される制御クロックに同期して行われる（以下、制御クロックによってコイルへの給電を切り替えるタイミングを切り換えタイミングと称す）。そして、モーター駆動電流を一定にする定電流制御は、Ｈｉブリッジ回路が構成されたステッピングモーターのドライブ回路のオン／オフ制御（チョッピング動作）で行われる。以下、チョッピング動作の周期を「チョッピング周期」、その周波数を「チョッピング周波数」と称する。
</base:Paragraphs>
        <base:Paragraphs num="0006">
  チョッピング動作では、Ｈｉブリッジ回路が構成されたドライブ回路での電源－ＧＮＤショートを回避（ハイサイド／ローサイドのＦＥＴに貫通電流が流れることを防止）する必要がある。従って、制御クロックのエッジが入力されても、チョッピング周期内では切り替わりは行われず、制御クロックによる切り替えタイミングにズレが生じる。このズレが回転ムラとなり、その結果、振動、音として現れる。また、制御クロックによる切り替えタイミングのズレは、励磁パターンによっても影響が変化してくる。１－２相励磁でのステップ切り替わりでは、２相（Ａ相／Ｂ相）とも同時に切り替わるタイミングが存在するため、隣り合う制御クロック間の周波数ズレは２相励磁と比較して大きくなる。
</base:Paragraphs>
        <base:Paragraphs num="0007">
  制御クロックによる切り替えタイミングのズレは、チョッピング周波数が低いと大きく、逆にチョッピング周波数が高いと小さくなる。しかし、内部スイッチング時の駆動デバイス（ＦＥＴ）としてのロスは、チョッピング周波数が低いと小さく、チョッピング周波数が高いと大きくなり、それが駆動デバイスの発熱として影響が出てきてしまう。
</base:Paragraphs>
        <base:Paragraphs num="0008">
  本発明の目的は、上記問題点を解決し、制御クロックによる切り替えタイミングのズレを軽減することができる適切なチョッピング周波数でチョッピング動作を行うことができるモーター駆動装置を提供することにある。
</base:Paragraphs>
      </business:TechnicalProblem>
      <business:TechnicalSolution>
        <base:Paragraphs num="0009">
  本発明のモーター駆動装置は、ステッピングモーターの励磁相への給電を制御クロックに同期して切り替えるドライブ回路を有し、前記ドライブ回路のスイッチング素子をオン／オフ制御するチョッピング動作によってモーター駆動電流を一定にする定電流制御を行うモーター駆動装置であって、複数のチョッピング周波数を設定可能に構成されチョッピング周波数設定部と、前記チョッピング周波数設定部によって設定されたチョッピング周波数によってチョッピング動作を行う励磁制御部と、前記ステッピングモーターの駆動に起因する振動を検出する振動検出部と、前記ステッピングモーターの駆動時に、前記チョッピング周波数設定部によって設定可能なそれぞれのチョッピング周波数で前記励磁制御部によってそれぞれチョッピング動作を行わせ、前記振動検出部による検出結果に基づいて、モニター周波数の周波数レベルが最小となるチョッピング周波数に、前記チョッピング周波数設定部に設定するチョッピング周波数を決定するチョッピング周波数決定動作を行うチョッピング周波数決定部とを具備することを特徴とする。
  さらに、本発明のモーター駆動装置において、前記モニター周波数は、前記ステッピングモーターの出力軸に装着されたモータピニオンの歯数と、前記ステッピングモーターのモータローターの極数との公倍数のいずれかに設定されていても良い。
  さらに、本発明のモーター駆動装置において、前記モニター周波数は、事前に所定の条件でステッピングモーターを駆動させ、振動レベルが最も大きくなる値に設定されていても良い。
  さらに、本発明のモーター駆動装置において、前記チョッピング周波数決定部は、前記チョッピング周波数決定動作の実行時に、最速の制御クロックで前記ドライブ回路を駆動させても良い。
  さらに、本発明のモーター駆動装置において、前記チョッピング周波数設定部は、制御クロックによる切替タイミングを含む、１クロック周期内の一部分のみ、前記チョッピング周波数決定部による前記チョッピング周波数決定動作によって決定されたチョッピング周波数に設定しても良い。
  また、本発明のモーター駆動装置は、ステッピングモーターの励磁相への給電を制御クロックに同期して切り替えるドライブ回路を有し、前記ドライブ回路のスイッチング素子をオン／オフ制御するチョッピング動作によってモーター駆動電流を一定にする定電流制御を行うモーター駆動装置であって、複数のチョッピング周波数を設定可能に構成されチョッピング周波数設定部と、前記チョッピング周波数設定部によって設定されたチョッピング周波数によってチョッピング動作を行う励磁制御部と、前記ステッピングモーターの駆動に起因する振動を検出する振動検出部と、前記ステッピングモーターの駆動時に、前記チョッピング周波数設定部によって設定可能なチョッピング周波数の内、チョッピング周波数が低い方から順番に前記励磁制御部によってチョッピング動作を行わせ、前記振動検出部による検出結果に基づいて、モニター周波数の周波数レベルが予め設定された閾振動レベル以下になったチョッピング周波数に、前記チョッピング周波数設定部に設定するチョッピング周波数を決定するチョッピング周波数決定動作を行うチョッピング周波数決定部とを具備することを特徴とする。
</base:Paragraphs>
      </business:TechnicalSolution>
      <business:AdvantageousEffects>
        <base:Paragraphs num="0010">
  本発明によれば、制御クロックによる切り替えタイミングのズレを軽減することができる適切なチョッピング周波数でチョッピング動作を行うことができ、切り替えタイミングズレによるステッピングモーター１の振動を軽減することができるという効果を奏する。
</base:Paragraphs>
      </business:AdvantageousEffects>
    </business:InventionSummary>
    <business:DrawingsDescription>
      <base:Paragraphs num="0011">
        <base:FigureReference num="0001">本発明に係るモーター駆動装置の第１の実施の形態の構成を示すブロック図である。</base:FigureReference>
        <base:FigureReference num="0002">本発明に係るモーター駆動装置の第１の実施の形態によるチョッピング周波数決定動作の制御手順を示すフローチャートである。</base:FigureReference>
        <base:FigureReference num="0003">図1に示す振動検出部によってモニターする振動周波数を示す波形図である。</base:FigureReference>
        <base:FigureReference num="0004">図１に示すチョッピング周波数設定部におけるチョッピング周波数の設定例を説明するための波形図である。</base:FigureReference>
        <base:FigureReference num="0005">本発明に係るモーター駆動装置の第２の実施の形態によるチョッピング周波数決定動作の制御手順を示すフローチャートである。</base:FigureReference>
      </base:Paragraphs>
    </business:DrawingsDescription>
    <business:EmbodimentsDescription>
      <base:Paragraphs num="0012">
  次に、本発明の実施の形態を、図面を参照して具体的に説明する。
（第１の実施の形態）
  第１の実施の形態のモーター駆動装置は、複写機やプリンタ、ファクシミリ等の画像形成装置で使用するステッピングモーター１を駆動する装置であり、図１を参照すると、ドライブ回路２と、励磁制御部３と、制御クロック切替部４と、チョッピング周波数設定部５と、電流検出部６と、振動検出部７と、これら全体を制御するＣＰＵ８とを備えている。
</base:Paragraphs>
      <base:Paragraphs num="0013">
  ドライブ回路２は、ステッピングモーター１の各励磁相をオン／オフするスイッチング素子であるＦＥＴを備えたＨｉブリッジ回路である。
</base:Paragraphs>
      <base:Paragraphs num="0014">
  励磁制御部３は、制御クロック切替部４から入力される制御クロックと、ＣＰＵ８によって指示された励磁モード（ＭＯＤＥ）及び回転方向（ＣＷ／ＣＣＷ）とに基づいて、ドライブ回路２のＦＥＴを駆動することで、ステッピングモーター１の各励磁相のオン／オフを切り替える制御回路である。また、励磁制御部３は、チョッピング周波数設定部５に設定されたチョッピング周波数及びデューティ比でドライブ回路２のＦＥＴをオン／オフ制御（チョッピング動作）することで、モーター駆動電流を一定にする定電流制御を行う。
</base:Paragraphs>
      <base:Paragraphs num="0015">
  制御クロック切替部４は、ＣＰＵ８によって指示された回転数に対応する制御クロックを励磁制御部３に出力する。
</base:Paragraphs>
      <base:Paragraphs num="0016">
  チョッピング周波数設定部５は、人間の可聴領域（～２０ｋＨｚ）以上の複数のチョッピング周波数（例えば、２５／３０／３５／４０ｋＨｚ）を設定可能に構成されており、設定したチョッピング周波数の矩形波信号（以下、チョッピング信号と称す）を励磁制御部３に出力する。また、チョッピング周波数設定部５は、電流検出部６によって検出されるモーター駆動電流が一定になるように、チョッピング信号のデューティ比を設定する。
</base:Paragraphs>
      <base:Paragraphs num="0017">
  電流検出部６は、ステッピングモーター１の各励磁相を流れるモーター駆動電流を検出する電流検出手段であり、例えば、電流検出用の抵抗で構成される。
</base:Paragraphs>
      <base:Paragraphs num="0018">
  振動検出部７は、ステッピングモーター１の駆動に起因する振動を検出する振動検出手段であり、振動検出信号をＣＰＵ８に出力する。振動検出部７は、例えば、ステッピングモーター１の近傍もしくは接触して配置された加速度センサーで構成される。なお、振動検出部７を、磁石（マグネット）と磁力センサーとで構成することもできる。
</base:Paragraphs>
      <base:Paragraphs num="0019">
  ＣＰＵ８は、制御クロック切替部４に対して回転数を指示すると共に、励磁制御部３に対して励磁モード（ＭＯＤＥ）と回転方向（ＣＷ／ＣＣＷ）とを指示する。また、ＣＰＵ８は、振動検出部７の検出信号に基づいて、チョッピング周波数設定部５に設定するチョッピング周波数を決定するチョッピング周波数決定動作を行う。
</base:Paragraphs>
      <base:Paragraphs num="0020">
  以下、チョッピング周波数決定動作の制御手順について図２及び図３を参照して詳細に説明する。
  ＣＰＵ８は、チョッピング周波数決定動作の制御するチョッピング周波数決定部として機能する。まず、ＣＰＵ８は、励磁制御部３に対して、複数の例示モードの内、最も振動が大きくなると想定される励磁モードとして１－２相励磁を指示し、励磁モードを１－２相励磁に設定させると共に（ステップＡ１）、制御クロック切替部４に対して、最も速い回転数を指示し、駆動クロックを最速に設定させ（ステップＡ２）、ステッピングモーター１を駆動させる（ステップＡ３）。
</base:Paragraphs>
      <base:Paragraphs num="0021">
  次に、ＣＰＵ８は、変数ｎに１をセットし（ステップＡ４）、チョッピング周波数設定部５に対して、ｎ番目のチョッピング周波数の設定する（ステップＡ５）。これにより、ｎ番目のチョッピング周波数のチョッピング信号が励磁制御部３に出力され、ドライブ回路２のＦＥＴがｎ番目のチョッピング周波数でオン／オフ制御される。そして、ＣＰＵ８は、振動検出部７から出力される振動検出信号をサンプリングすることで、モニター周波数の信号レベルを測定する（ステップＡ６）。振動検出信号のサンプリングは、数回（例えば、５００ｍｓ毎に５回）行う。モニター周波数は、ステッピングモーター１の出力軸に装着されたモータピニオンの歯数と、ステッピングモーター１のモータローターの極数との公倍数のいずれかに設定されている。ステッピングモーター１の駆動持の実振動を周波数解析すると、図３に矢印で示すように、モータピニオンの歯数とモータローターの極数との公倍数の周波数で振動レベルのピークが表れる。従って、事前に所定の条件でステッピングモーター１を駆動させ、振動レベルが最も大きくなるモータピニオンの歯数とモータローターの極数との公倍数をモニター周波数として設定すると良い。なお、モニター周波数は、０～最速の制御クロック＊２の範囲で設定される。すなわち、制御クロックの最速が２５００Ｈｚである場合には、０～５０００Ｈｚの範囲で実振動を周波数解析し、モニター周波数は、その内の振動レベルが最も大きくなる公倍数に設定される。
</base:Paragraphs>
      <base:Paragraphs num="0022">
  次に、ＣＰＵ８は、変数ｎが閾値Ｎに到達したか否かを判断し（ステップＡ７）、変数ｎが閾値Ｎに到達していない場合には、変数ｎをインクリメントし（ステップＡ８）、ステップＡ５に戻る。閾値Ｎは、チョッピング周波数設定部５で設定可能なチョッピング周波数の数であり、例えば、チョッピング周波数設定部５で設定可能なチョッピング周波数が、２５／３０／３５／４０ｋＨｚの４通りである場合には、閾値Ｎ＝４となる。
</base:Paragraphs>
      <base:Paragraphs num="0023">
  ステップＡ７で変数ｎが閾値Ｎに到達した場合には、チョッピング周波数を変えてＮ回のモニター周波数の信号レベルが測定されたことになり、ＣＰＵ８は、ステップＡ６で測定したモニター周波数の信号レベルが最も低い時のチョッピング周波数を、チョッピング周波数設定部５を設定するチョッピング周波数として決定し（ステップＡ９）、チョッピング周波数決定動作を終了する。
</base:Paragraphs>
      <base:Paragraphs num="0024">
  これにより、チョッピング周波数設定部５には、モニター周波数の信号レベルが最も低い時のチョッピング周波数が設定され、このチョッピング周波数によってチョッピング動作が行われ、切り替えタイミングズレによるステッピングモーター１の振動を軽減することができる。
</base:Paragraphs>
      <base:Paragraphs num="0025">
  なお、チョッピング周波数決定動作の実施タイミングは、特に制限はなく、生産ライン、もしくはサービス従事者の調整の中で専用モードを設けるようにしても良い。また、ユーザーの操作によってチョッピング周波数決定動作の実施を行えるようにしても良い。さらに、電源投入時（もしくは、低電力モードからの復帰時）には、マシンを正常に動作させるため、イニシャル動作として一定時間回転させる（駆動連結動作）制御に行う場合があり、このイニシャル動作時にチョッピング周波数決定動作を実施するようにしても良い。
</base:Paragraphs>
      <base:Paragraphs num="0026">
  また、チョッピング周波数が高くなると、駆動デバイス（ドライブ回路２のＦＥＴ）の発熱の問題も懸念される。そこで、ステップＡ９で決定されたチョッピング周波数が予め設定された閾周波数（例えば、３０ｋＨｚ）以上である場合には、チョッピング周波数設定部５は、制御クロックによる切替タイミングを含む、１クロック周期（１ＣＬＫ）内の一部分のみ、ステップＡ９で決定されたチョッピング周波数に切り換えて設定するように構成しても良い。例えば、チョッピング周波数設定部５は、図４に示すように、制御クロックの立ち上がりエッジが切り替えタイミングである場合、１ＣＬＫ内の立ち上がりエッジから立ち下がりエッジを設定可能なチョッピング周波数の内、最も低い２５ｋＨｚに設定し、立ち下がりエッジから立ち上がりエッジをステップＡ９で決定されたチョッピング周波数（例えば、４０ｋＨｚ）に設定する。これにより、切り替えタイミングズレによるステッピングモーター１の振動を軽減し、且つ駆動デバイスの発熱を抑制し、駆動デバイス発熱もケアされた、ステッピングモーター駆動回路制御が可能となる。
</base:Paragraphs>
      <base:Paragraphs num="0027">
  以上説明したように、第１の実施の形態によれば、ステッピングモーター１の励磁相への給電を制御クロックに同期して切り替えるドライブ回路２を有し、ドライブ回路２のスイッチング素子をオン／オフ制御するチョッピング動作によってモーター駆動電流を一定にする定電流制御を行うモーター駆動装置であって、複数のチョッピング周波数を設定可能に構成されチョッピング周波数設定部５と、チョッピング周波数設定部５によって設定されたチョッピング周波数によってチョッピング動作を行う励磁制御部３と、ステッピングモーター１の駆動に起因する振動を検出する振動検出部７と、ステッピングモーター１の駆動時に、チョッピング周波数設定部５によって設定可能なそれぞれのチョッピング周波数で励磁制御部３によってそれぞれチョッピング動作を行わせ、振動検出部７による検出結果に基づいて、モニター周波数の周波数レベルが最小となるチョッピング周波数に、チョッピング周波数設定部５に設定するチョッピング周波数を決定するチョッピング周波数決定動作を行うＣＰＵ８（チョッピング周波数決定部）とを備えている。
  この構成により、制御クロックによる切り替えタイミングのズレを軽減することができる適切なチョッピング周波数でチョッピング動作を行うことができ、切り替えタイミングズレによるステッピングモーター１の振動を軽減することができる。
</base:Paragraphs>
      <base:Paragraphs num="0028">
  さらに、本実施の形態によれば、モニター周波数は、ステッピングモーター１の出力軸に装着されたモータピニオンの歯数と、ステッピングモーター１のモータローターの極数との公倍数のいずれかに設定されている。
  この構成により、振動レベルのピークが表れる周波数における振動レベルに基づいてチョッピング周波数を決定することができるため、切り替えタイミングズレによるステッピングモーター１の振動を効果的に軽減することができる。
</base:Paragraphs>
      <base:Paragraphs num="0029">
  さらに、本実施の形態によれば、モニター周波数は、事前に所定の条件でステッピングモーター１を駆動させ、振動レベルが最も大きくなる値に設定されている。
  この構成により、振動レベルの最も大きいピークが表れる周波数における振動レベルに基づいてチョッピング周波数を決定することができるため、切り替えタイミングズレによるステッピングモーター１の振動をさらに効果的に軽減することができる。
</base:Paragraphs>
      <base:Paragraphs num="0030">
  さらに、本実施の形態によれば、ＣＰＵ８は、チョッピング周波数決定動作の実行時に、最速の制御クロックでドライブ回路を駆動させる。
  この構成により、最も振動レベルが大きくなる制御クロックで振動レベルが最小となるチョッピング周波数を決定することができるため、切り替えタイミングズレによるステッピングモーター１の振動を効果的に軽減することができる。
</base:Paragraphs>
      <base:Paragraphs num="0031">
  さらに、本実施の形態によれば、チョッピング周波数設定部５は、制御クロックによる切替タイミングを含む、１クロック周期内の一部分のみ、ＣＰＵ８によるチョッピング周波数決定動作によって決定されたチョッピング周波数に設定する。
  この構成により、駆動デバイスの発熱を抑制することができ、駆動デバイスの発熱もケアされた、ステッピングモーター駆動回路制御が可能となる。
</base:Paragraphs>
      <base:Paragraphs num="0032">
（第２の実施の形態）
  第２の実施の形態では、第１の実施の形態に比べてチョッピング周波数の決定方法が異なっている。図５を参照すると、ｎ番目のチョッピング周波数の設定し（ステップＡ５）、モニター周波数の信号レベルを測定すると（ステップＡ６）、ＣＰＵ８は、モニター周波数の信号レベルが予め設定されている閾振動レベル以下か否かを判断する（ステップＢ１）。なお、第２の実施の形態では、ステップＡ５において、チョッピング周波数設定部５で設定可能なチョッピング周波数の内、チョッピング周波数が低い方から順番に設定される。
</base:Paragraphs>
      <base:Paragraphs num="0033">
  ステップＢ１でモニター周波数の信号レベルが予め設定されている閾振動レベル以下である場合には、ステップＡ５で設定したｎ番目のチョッピング周波数を、チョッピング周波数設定部５を設定するチョッピング周波数として決定し（ステップＢ２）、チョッピング周波数決定動作を終了する。
</base:Paragraphs>
      <base:Paragraphs num="0034">
  一方、ステップＢ１でモニター周波数の信号レベルが予め設定されている閾振動レベル以下でない場合に、ＣＰＵ８は、変数ｎが閾値Ｎに到達したか否かを判断し（ステップＡ７）、変数ｎが閾値Ｎに到達していない場合には、変数ｎをインクリメントし（ステップＡ８）、ステップＡ５に戻る。
</base:Paragraphs>
      <base:Paragraphs num="0035">
  すなわち、第２の実施の形態では、モニター周波数の信号レベルが予め設定されている閾振動レベル以下になった時点で、チョッピング周波数設定部５を設定するチョッピング周波数として決定することができる。これにより、切り替えタイミングズレによるステッピングモーター１の振動を許容範囲まで軽減することができる、最も低いチョッピング周波数を素早く決定することができる。
</base:Paragraphs>
      <base:Paragraphs num="0036">
  なお、ステップＡ７で変数ｎが閾値Ｎに到達した場合には、モニター周波数の信号レベルが予め設定されている閾振動レベル以下になるチョッピング周波数が存在しないことになる。従って、Ｎ番目のチョッピング周波数（最も高いチョッピング周波数）を、チョッピング周波数設定部５を設定するチョッピング周波数として決定することで（ステップＢ３）、切り替えタイミングズレによるステッピングモーター１の振動をできるだけ減減する。ステップＡ７で変数ｎが閾値Ｎに到達した場合に、エラーを報知するようにしても良い。
</base:Paragraphs>
      <base:Paragraphs num="0037">
  以上説明したように、第２の実施の形態によれば、ステッピングモーター１の励磁相への給電を制御クロックに同期して切り替えるドライブ回路２を有し、ドライブ回路２のスイッチング素子をオン／オフ制御するチョッピング動作によってモーター駆動電流を一定にする定電流制御を行うモーター駆動装置であって、複数のチョッピング周波数を設定可能に構成されチョッピング周波数設定部５と、チョッピング周波数設定部５によって設定されたチョッピング周波数によってチョッピング動作を行う励磁制御部３と、ステッピングモーター１の駆動に起因する振動を検出する振動検出部７と、ステッピングモーター１の駆動時に、チョッピング周波数設定部５によって設定可能なチョッピング周波数の内、チョッピング周波数が低い方から順番に励磁制御部３によってチョッピング動作を行わせ、振動検出部７による検出結果に基づいて、モニター周波数の周波数レベルが予め設定された閾振動レベル以下になったチョッピング周波数に、チョッピング周波数設定部５に設定するチョッピング周波数を決定するチョッピング周波数決定動作を行うＣＰＵ８（チョッピング周波数決定部）とを備えている。
  この構成により、切り替えタイミングズレによるステッピングモーター１の振動を許容範囲まで軽減することができる、最も低いチョッピング周波数を素早く決定することができる。
</base:Paragraphs>
      <base:Paragraphs num="0038">
  なお、本発明が上記各実施の形態に限定されず、本発明の技術思想の範囲内において、各実施の形態は適宜変更され得ることは明らかである。また、上記構成部材の数、位置、形状等は上記実施の形態に限定されず、本発明を実施する上で好適な数、位置、形状等にすることができる。なお、各図において、同一構成要素には同一符号を付している。
</base:Paragraphs>
    </business:EmbodimentsDescription>
    <business:ReferenceSignsList>
      <base:Paragraphs num="0039">
１  ステッピングモーター
２  ドライブ回路
３  励磁制御部
４  制御クロック切替部
５  チョッピング周波数設定部
６  電流検出部
７  振動検出部
８  ＣＰＵ
</base:Paragraphs>
    </business:ReferenceSignsList>
  </business:Description>
  <business:Drawings lang="ja" sourceDB="JP">
    <base:Figure num="0001">
      <base:Image id="000003" he="35" wi="83" file="2016127684_000003.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0002">
      <base:Image id="000004" he="113" wi="83" file="2016127684_000004.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0003">
      <base:Image id="000005" he="53" wi="83" file="2016127684_000005.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0004">
      <base:Image id="000006" he="42" wi="83" file="2016127684_000006.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0005">
      <base:Image id="000007" he="64" wi="83" file="2016127684_000007.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
  </business:Drawings>
  <business:Claims lang="ja" dataFormat="original" sourceDB="JP">
    <business:Claim num="0001">
      <business:ClaimText>
  ステッピングモーターの励磁相への給電を制御クロックに同期して切り替えるドライブ回路を有し、前記ドライブ回路のスイッチング素子をオン／オフ制御するチョッピング動作によってモーター駆動電流を一定にする定電流制御を行うモーター駆動装置であって、
  複数のチョッピング周波数を設定可能に構成されチョッピング周波数設定部と、
  前記チョッピング周波数設定部によって設定されたチョッピング周波数によってチョッピング動作を行う励磁制御部と、
  前記ステッピングモーターの駆動に起因する振動を検出する振動検出部と、
  前記ステッピングモーターの駆動時に、前記チョッピング周波数設定部によって設定可能なそれぞれのチョッピング周波数で前記励磁制御部によってそれぞれチョッピング動作を行わせ、前記振動検出部による検出結果に基づいて、モニター周波数の周波数レベルが最小となるチョッピング周波数に、前記チョッピング周波数設定部に設定するチョッピング周波数を決定するチョッピング周波数決定動作を行うチョッピング周波数決定部とを具備することを特徴とするモーター駆動装置。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0002">
      <business:ClaimText>
  前記モニター周波数は、前記ステッピングモーターの出力軸に装着されたモータピニオンの歯数と、前記ステッピングモーターのモータローターの極数との公倍数のいずれかに設定されていることを特徴とする請求項１記載のモーター駆動装置。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0003">
      <business:ClaimText>
  前記モニター周波数は、事前に所定の条件でステッピングモーターを駆動させ、振動レベルが最も大きくなる値に設定されていることを特徴とする請求項２記載のモーター駆動装置。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0004">
      <business:ClaimText>
  前記チョッピング周波数決定部は、前記チョッピング周波数決定動作の実行時に、最速の制御クロックで前記ドライブ回路を駆動させることを特徴とする請求項１乃至３のいずれかに記載のモーター駆動装置。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0005">
      <business:ClaimText>
  前記チョッピング周波数設定部は、制御クロックによる切替タイミングを含む、１クロック周期内の一部分のみ、前記チョッピング周波数決定部による前記チョッピング周波数決定動作によって決定されたチョッピング周波数に設定することを特徴とする請求項１乃至４のいずれかに記載のモーター駆動装置。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0006">
      <business:ClaimText>
  ステッピングモーターの励磁相への給電を制御クロックに同期して切り替えるドライブ回路を有し、前記ドライブ回路のスイッチング素子をオン／オフ制御するチョッピング動作によってモーター駆動電流を一定にする定電流制御を行うモーター駆動装置であって、
  複数のチョッピング周波数を設定可能に構成されチョッピング周波数設定部と、
  前記チョッピング周波数設定部によって設定されたチョッピング周波数によってチョッピング動作を行う励磁制御部と、
  前記ステッピングモーターの駆動に起因する振動を検出する振動検出部と、
  前記ステッピングモーターの駆動時に、前記チョッピング周波数設定部によって設定可能なチョッピング周波数の内、チョッピング周波数が低い方から順番に前記励磁制御部によってチョッピング動作を行わせ、前記振動検出部による検出結果に基づいて、モニター周波数の周波数レベルが予め設定された閾振動レベル以下になったチョッピング周波数に、前記チョッピング周波数設定部に設定するチョッピング周波数を決定するチョッピング周波数決定動作を行うチョッピング周波数決定部とを具備することを特徴とするモーター駆動装置。
</business:ClaimText>
    </business:Claim>
  </business:Claims>
</business:PatentDocumentAndRelated>