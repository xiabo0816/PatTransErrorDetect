<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE business:PatentDocumentAndRelated SYSTEM "/DTDS/ExternalStandards/ipphdb-entities.dtd"[]>
<business:PatentDocumentAndRelated xmlns:base="http://www.sipo.gov.cn/XMLSchema/base" xmlns:business="http://www.sipo.gov.cn/XMLSchema/business" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:tbl="http://oasis-open.org/specs/soextblx" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.sipo.gov.cn/XMLSchema/business /DTDS/PatentDocument/Elements/OtherElements.xsd" xsdVersion="V2.2.1" file="JP102020000031700JP00020200924560AFULJA20200611JP00S.XML" dateProduced="20200613" status="C" lang="ja" country="JP" docNumber="2020092456" kind="A" datePublication="20200611">
  <business:BibliographicData lang="ja" country="JP">
    <business:PublicationReference dataFormat="original" sequence="1" sourceDB="JP">
      <base:DocumentID>
        <base:WIPOST3Code>JP</base:WIPOST3Code>
        <base:DocNumber>2020092456</base:DocNumber>
        <base:Kind>A</base:Kind>
        <base:Date>20200611</base:Date>
      </base:DocumentID>
    </business:PublicationReference>
    <business:PublicationReference dataFormat="standard" sequence="1">
      <base:DocumentID>
        <base:WIPOST3Code>JP</base:WIPOST3Code>
        <base:DocNumber>2020092456</base:DocNumber>
        <base:Kind>A</base:Kind>
        <base:Date>20200611</base:Date>
      </base:DocumentID>
    </business:PublicationReference>
    <business:PlainLanguageDesignation lang="ja">公開特許公報(A)</business:PlainLanguageDesignation>
    <business:ApplicationReference applType="10" dataFormat="standard" sequence="1">
      <base:DocumentID>
        <base:WIPOST3Code>JP</base:WIPOST3Code>
        <base:DocNumber>102020000031700</base:DocNumber>
        <base:Date>20200227</base:Date>
      </base:DocumentID>
    </business:ApplicationReference>
    <business:ApplicationReference applType="10" dataFormat="original" sequence="1" sourceDB="JP">
      <base:DocumentID>
        <base:WIPOST3Code>JP</base:WIPOST3Code>
        <base:DocNumber>2020031700</base:DocNumber>
        <base:Date>20200227</base:Date>
      </base:DocumentID>
    </business:ApplicationReference>
    <business:ClassificationIPCRDetails>
      <business:ClassificationIPCR sequence="1">
        <business:IPCVersionDate>20140101</business:IPCVersionDate>
        <business:ClassificationLevel>A</business:ClassificationLevel>
        <business:Section>H</business:Section>
        <business:MainClass>04</business:MainClass>
        <business:Subclass>N</business:Subclass>
        <business:MainGroup>19</business:MainGroup>
        <business:Subgroup>11</business:Subgroup>
        <business:SymbolPosition>F</business:SymbolPosition>
        <business:ClassificationValue>I</business:ClassificationValue>
        <base:ActionDate>
          <base:Date>20200515</base:Date>
        </base:ActionDate>
        <business:GeneratingOffice>
          <base:WIPOST3Code>JP</base:WIPOST3Code>
        </business:GeneratingOffice>
        <business:ClassificationStatus>B</business:ClassificationStatus>
        <business:ClassificationDataSource>H</business:ClassificationDataSource>
        <base:Text>H04N  19/11        20140101AFI20200515BHJP        </base:Text>
      </business:ClassificationIPCR>
      <business:ClassificationIPCR sequence="2">
        <business:IPCVersionDate>20140101</business:IPCVersionDate>
        <business:ClassificationLevel>A</business:ClassificationLevel>
        <business:Section>H</business:Section>
        <business:MainClass>04</business:MainClass>
        <business:Subclass>N</business:Subclass>
        <business:MainGroup>19</business:MainGroup>
        <business:Subgroup>186</business:Subgroup>
        <business:SymbolPosition>L</business:SymbolPosition>
        <business:ClassificationValue>I</business:ClassificationValue>
        <base:ActionDate>
          <base:Date>20200515</base:Date>
        </base:ActionDate>
        <business:GeneratingOffice>
          <base:WIPOST3Code>JP</base:WIPOST3Code>
        </business:GeneratingOffice>
        <business:ClassificationStatus>B</business:ClassificationStatus>
        <business:ClassificationDataSource>H</business:ClassificationDataSource>
        <base:Text>H04N  19/186       20140101ALI20200515BHJP        </base:Text>
      </business:ClassificationIPCR>
      <business:ClassificationIPCR sequence="3">
        <business:IPCVersionDate>20140101</business:IPCVersionDate>
        <business:ClassificationLevel>A</business:ClassificationLevel>
        <business:Section>H</business:Section>
        <business:MainClass>04</business:MainClass>
        <business:Subclass>N</business:Subclass>
        <business:MainGroup>19</business:MainGroup>
        <business:Subgroup>176</business:Subgroup>
        <business:SymbolPosition>L</business:SymbolPosition>
        <business:ClassificationValue>I</business:ClassificationValue>
        <base:ActionDate>
          <base:Date>20200515</base:Date>
        </base:ActionDate>
        <business:GeneratingOffice>
          <base:WIPOST3Code>JP</base:WIPOST3Code>
        </business:GeneratingOffice>
        <business:ClassificationStatus>B</business:ClassificationStatus>
        <business:ClassificationDataSource>H</business:ClassificationDataSource>
        <base:Text>H04N  19/176       20140101ALI20200515BHJP        </base:Text>
      </business:ClassificationIPCR>
      <business:ClassificationIPCR sequence="4">
        <business:IPCVersionDate>20140101</business:IPCVersionDate>
        <business:ClassificationLevel>A</business:ClassificationLevel>
        <business:Section>H</business:Section>
        <business:MainClass>04</business:MainClass>
        <business:Subclass>N</business:Subclass>
        <business:MainGroup>19</business:MainGroup>
        <business:Subgroup>157</business:Subgroup>
        <business:SymbolPosition>L</business:SymbolPosition>
        <business:ClassificationValue>I</business:ClassificationValue>
        <base:ActionDate>
          <base:Date>20200515</base:Date>
        </base:ActionDate>
        <business:GeneratingOffice>
          <base:WIPOST3Code>JP</base:WIPOST3Code>
        </business:GeneratingOffice>
        <business:ClassificationStatus>B</business:ClassificationStatus>
        <business:ClassificationDataSource>H</business:ClassificationDataSource>
        <base:Text>H04N  19/157       20140101ALI20200515BHJP        </base:Text>
      </business:ClassificationIPCR>
    </business:ClassificationIPCRDetails>
    <business:JPClassification>
      <business:FI type="main">H04N19/11</business:FI>
      <business:FI type="secondary">H04N19/186</business:FI>
      <business:FI type="secondary">H04N19/176</business:FI>
      <business:FI type="secondary">H04N19/157</business:FI>
      <business:FClass>
        <business:FTerm>5C159KK13</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159LB05</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159LC09</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159MA04</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159MA05</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159MA21</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159MC11</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159PP16</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159RC12</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159TA21</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159TA31</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159TA33</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159TA69</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159TA79</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159TB08</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159TC02</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159TC26</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159TC27</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159TD11</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159TD12</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159UA16</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5C159UA33</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:Theme>5C159</business:Theme>
      </business:FClass>
    </business:JPClassification>
    <business:InventionTitle lang="ja" dataFormat="original" sourceDB="JP">画像符号化装置、画像符号化方法及び画像符号化プログラム、並びに画像復号化装置、画像復号化方法及び画像復号化プログラム</business:InventionTitle>
    <business:RelatedDocuments>
      <business:Division>
        <business:DocumentsRelation>
          <business:ParentDocument>
            <base:DocumentID sequence="1" lang="ja">
              <base:DocNumber>2017089252</base:DocNumber>
              <base:Date>20170428</base:Date>
            </base:DocumentID>
          </business:ParentDocument>
          <business:ChildDocument>
            <base:DocumentID>
              <base:Date>00000000</base:Date>
            </base:DocumentID>
          </business:ChildDocument>
        </business:DocumentsRelation>
      </business:Division>
    </business:RelatedDocuments>
    <business:Parties>
      <business:ApplicantDetails>
        <business:Applicant sequence="1" dataFormat="original" sourceDB="JP">
          <base:AddressBook lang="ja">
            <base:Name>株式会社ＪＶＣケンウッド</base:Name>
            <base:RegisteredNumber>308036402</base:RegisteredNumber>
            <base:Address>
              <base:AddressLine>0</base:AddressLine>
              <base:AddressMailCode>0</base:AddressMailCode>
              <base:PostBox>0</base:PostBox>
              <base:AddressRoom>0</base:AddressRoom>
              <base:AddressFloor>0</base:AddressFloor>
              <base:AddressBuilding>0</base:AddressBuilding>
              <base:Street>0</base:Street>
              <base:AddressCity>0</base:AddressCity>
              <base:County>0</base:County>
              <base:City>0</base:City>
              <base:Province>0</base:Province>
              <base:PostCode>0</base:PostCode>
              <base:WIPOST3Code>JP</base:WIPOST3Code>
              <base:Text>神奈川県横浜市神奈川区守屋町３丁目１２番地</base:Text>
            </base:Address>
          </base:AddressBook>
          <business:OrganizationCode createDate="00000000" creator="00">0000000000</business:OrganizationCode>
        </business:Applicant>
      </business:ApplicantDetails>
      <business:InventorDetails>
        <business:Inventor sequence="1" dataFormat="original" sourceDB="JP">
          <base:AddressBook lang="ja">
            <base:Name>福島  茂</base:Name>
            <base:Address>
              <base:AddressLine>0</base:AddressLine>
              <base:AddressMailCode>0</base:AddressMailCode>
              <base:PostBox>0</base:PostBox>
              <base:AddressRoom>0</base:AddressRoom>
              <base:AddressFloor>0</base:AddressFloor>
              <base:AddressBuilding>0</base:AddressBuilding>
              <base:Street>0</base:Street>
              <base:AddressCity>0</base:AddressCity>
              <base:County>0</base:County>
              <base:City>0</base:City>
              <base:Province>0</base:Province>
              <base:PostCode>0</base:PostCode>
              <base:WIPOST3Code>JP</base:WIPOST3Code>
              <base:Text>神奈川県横浜市神奈川区守屋町３丁目１２番地</base:Text>
            </base:Address>
          </base:AddressBook>
        </business:Inventor>
        <business:Inventor sequence="2" dataFormat="original" sourceDB="JP">
          <base:AddressBook lang="ja">
            <base:Name>中村  博哉</base:Name>
            <base:Address>
              <base:AddressLine>0</base:AddressLine>
              <base:AddressMailCode>0</base:AddressMailCode>
              <base:PostBox>0</base:PostBox>
              <base:AddressRoom>0</base:AddressRoom>
              <base:AddressFloor>0</base:AddressFloor>
              <base:AddressBuilding>0</base:AddressBuilding>
              <base:Street>0</base:Street>
              <base:AddressCity>0</base:AddressCity>
              <base:County>0</base:County>
              <base:City>0</base:City>
              <base:Province>0</base:Province>
              <base:PostCode>0</base:PostCode>
              <base:WIPOST3Code>JP</base:WIPOST3Code>
              <base:Text>神奈川県横浜市神奈川区守屋町３丁目１２番地</base:Text>
            </base:Address>
          </base:AddressBook>
        </business:Inventor>
        <business:Inventor sequence="3" dataFormat="original" sourceDB="JP">
          <base:AddressBook lang="ja">
            <base:Name>熊倉  徹</base:Name>
            <base:Address>
              <base:AddressLine>0</base:AddressLine>
              <base:AddressMailCode>0</base:AddressMailCode>
              <base:PostBox>0</base:PostBox>
              <base:AddressRoom>0</base:AddressRoom>
              <base:AddressFloor>0</base:AddressFloor>
              <base:AddressBuilding>0</base:AddressBuilding>
              <base:Street>0</base:Street>
              <base:AddressCity>0</base:AddressCity>
              <base:County>0</base:County>
              <base:City>0</base:City>
              <base:Province>0</base:Province>
              <base:PostCode>0</base:PostCode>
              <base:WIPOST3Code>JP</base:WIPOST3Code>
              <base:Text>神奈川県横浜市神奈川区守屋町３丁目１２番地</base:Text>
            </base:Address>
          </base:AddressBook>
        </business:Inventor>
      </business:InventorDetails>
    </business:Parties>
    <business:SpecificBibliographicData>
      <business:OriginalKindCode>A</business:OriginalKindCode>
    </business:SpecificBibliographicData>
    <business:StatisticalInformation>
      <business:ClaimsCount>6</business:ClaimsCount>
      <base:TotalPageCount>23</base:TotalPageCount>
    </business:StatisticalInformation>
  </business:BibliographicData>
  <business:Abstract dataFormat="original" lang="ja" sourceDB="JP">
    <base:Paragraphs>【課題】画像符号化及び復号化に適したブロック分割を行うことにより、符号化効率を向上させる画像符号化装置を提供する。
【解決手段】画像符号化装置において、画像をブロックに分割し、分割されたブロック単位で符号化を行うプライマリ信号ブロック分割部は、画像のプライマリ信号を所定サイズの矩形に分割してプライマリ信号ブロックを生成する。セカンダリ信号ブロック分割部は、画像のセカンダリ信号を所定サイズの矩形に分割してセカンダリ信号ブロックを生成する。プライマリ信号予測部はプライマリ信号を予測し、セカンダリ信号予測部はセカンダリ信号を予測する。セカンダリ信号予測部は、符号化されたプライマリ信号からセカンダリ信号を予測するコンポーネント間予測が可能であり、プライマリ信号ブロックのサイズ及びセカンダリ信号ブロックのサイズの少なくとも一方に基づいて、コンポーネント間予測を制限する。
【選択図】なし</base:Paragraphs>
  </business:Abstract>
  <business:Description dataFormat="original" sourceDB="JP">
    <business:TechnicalField>
      <base:Paragraphs num="0001">
  本発明は、画像をブロックに分割し、分割されたブロック単位で符号化及び復号化を行

う技術に関する。
</base:Paragraphs>
    </business:TechnicalField>
    <business:BackgroundArt>
      <base:Paragraphs num="0002">
  画像符号化及び復号化では、画像を所定数の画素の集合であるブロックに分割し、ブロ

ック単位で符号化及び復号化を行う。適切なブロックの分割を行うことで画面内予測（イ

ントラ予測）及び画面間予測（インター予測）の符号化効率が向上する。また、イントラ

予測において、プライマリ信号の復号画像からセカンダリ信号を予測することで符号化効

率が向上する。
</base:Paragraphs>
    </business:BackgroundArt>
    <business:CitationList>
      <business:PatentDocumentation>
        <base:Paragraphs num="0003">
          <business:ApplicationCitation num="0001">
            <base:Text>特開２０１３－９００１５号公報</base:Text>
          </business:ApplicationCitation>
        </base:Paragraphs>
      </business:PatentDocumentation>
    </business:CitationList>
    <business:InventionSummary>
      <business:TechnicalProblem>
        <base:Paragraphs num="0004">
  しかし、プライマリ信号の復号画像からセカンダリ信号を予測すると、処理量が増大す

るとともにプライマリ信号に対する処理とセカンダリ信号に対する処理の依存関係が発生

し並列処理が難しくなる。
</base:Paragraphs>
        <base:Paragraphs num="0005">
  本発明はこうした状況に鑑みてなされたものであり、その目的は、画像符号化及び復号

化に適したブロック分割を行うことにより、符号化効率を向上させる技術を提供すること

にある。
</base:Paragraphs>
      </business:TechnicalProblem>
      <business:TechnicalSolution>
        <base:Paragraphs num="0006">
  上記課題を解決するために、本発明のある態様の画像符号化装置は、画像をブロックに

分割し、分割されたブロック単位で符号化を行う画像符号化装置であって、前記画像のプ

ライマリ信号を所定サイズの矩形に分割してプライマリ信号ブロックを生成するプライマ

リ信号ブロック分割部と、前記画像のセカンダリ信号を所定サイズの矩形に分割してセカ

ンダリ信号ブロックを生成するセカンダリ信号ブロック分割部と、プライマリ信号を予測

するプライマリ信号予測部と、セカンダリ信号を予測するセカンダリ信号予測部とを含み

、前記プライマリ信号ブロックと前記セカンダリ信号ブロックは、それぞれ独立して分割

され、前記プライマリ信号は輝度信号、前記セカンダリ信号は色差信号であり、前記セカ

ンダリ信号予測部は、符号化されたプライマリ信号からセカンダリ信号を予測するコンポ

ーネント間予測が可能であり、前記プライマリ信号ブロックのサイズが所定サイズ以上の

場合、前記コンポーネント間予測の使用を禁止する。
</base:Paragraphs>
        <base:Paragraphs num="0007">
  本発明の別の態様は、画像符号化方法である。この方法は、画像をブロックに分割し、

分割されたブロック単位で符号化を行う画像符号化方法であって、前記画像のプライマリ

信号を所定サイズの矩形に分割してプライマリ信号ブロックを生成するプライマリ信号ブ

ロック分割ステップと、前記画像のセカンダリ信号を所定サイズの矩形に分割してセカン

ダリ信号ブロックを生成するセカンダリ信号ブロック分割ステップと、プライマリ信号を

予測するプライマリ信号予測ステップと、セカンダリ信号を予測するセカンダリ信号予測

ステップとを含み、前記プライマリ信号ブロックと前記セカンダリ信号ブロックは、それ

ぞれ独立して分割され、前記プライマリ信号は輝度信号、前記セカンダリ信号は色差信号

であり、前記セカンダリ信号予測ステップは、符号化されたプライマリ信号からセカンダ

リ信号を予測するコンポーネント間予測が可能であり、前記プライマリ信号ブロックのサ

イズが所定サイズ以上の場合、前記コンポーネント間予測の使用を禁止する。
</base:Paragraphs>
        <base:Paragraphs num="0008">
  本発明のさらに別の態様は、画像復号化装置である。この装置は、画像を分割したブロ

ック単位で復号化を行う画像復号化装置であって、前記画像のプライマリ信号を所定サイ

ズの矩形に分割してプライマリ信号ブロックを生成するプライマリ信号ブロック分割部と

、前記画像のセカンダリ信号を所定サイズの矩形に分割してセカンダリ信号ブロックを生

成するセカンダリ信号ブロック分割部と、プライマリ信号を予測するプライマリ信号予測

部と、セカンダリ信号を予測するセカンダリ信号予測部とを含み、前記プライマリ信号ブ

ロックと前記セカンダリ信号ブロックは、それぞれ独立して分割され、前記プライマリ信

号は輝度信号、前記セカンダリ信号は色差信号であり、前記セカンダリ信号予測部は、復

号化されたプライマリ信号からセカンダリ信号を予測するコンポーネント間予測が可能で

あり、前記プライマリ信号ブロックのサイズが所定サイズ以上の場合、前記コンポーネン

ト間予測の使用を禁止する。
</base:Paragraphs>
        <base:Paragraphs num="0009">
  本発明のさらに別の態様は、画像復号化方法である。この方法は、画像を分割したブロ

ック単位で復号化を行う画像復号化方法であって、前記画像のプライマリ信号を所定サイ

ズの矩形に分割してプライマリ信号ブロックを生成するプライマリ信号ブロック分割ステ

ップと、前記画像のセカンダリ信号を所定サイズの矩形に分割してセカンダリ信号ブロッ

クを生成するセカンダリ信号ブロック分割ステップと、プライマリ信号を予測するプライ

マリ信号予測ステップと、セカンダリ信号を予測するセカンダリ信号予測ステップとを含

み、前記プライマリ信号ブロックと前記セカンダリ信号ブロックは、それぞれ独立して分

割され、前記プライマリ信号は輝度信号、前記セカンダリ信号は色差信号であり、前記セ

カンダリ信号予測ステップは、復号化されたプライマリ信号からセカンダリ信号を予測す

るコンポーネント間予測が可能であり、前記プライマリ信号ブロックのサイズが所定サイ

ズ以上の場合、前記コンポーネント間予測の使用を禁止する。
</base:Paragraphs>
        <base:Paragraphs num="0010">
  なお、以上の構成要素の任意の組合せ、本発明の表現を方法、装置、システム、記録媒

体、コンピュータプログラムなどの間で変換したものもまた、本発明の態様として有効で

ある。
</base:Paragraphs>
      </business:TechnicalSolution>
      <business:AdvantageousEffects>
        <base:Paragraphs num="0011">
  本発明によれば、画像符号化及び復号化に適したブロック分割が可能になり、符号化効

率を向上させ、処理量の少ない画像符号化及び復号化を提供することができる。
</base:Paragraphs>
      </business:AdvantageousEffects>
    </business:InventionSummary>
    <business:DrawingsDescription>
      <base:Paragraphs num="0012">
        <base:FigureReference num="0001">第１の実施の形態に係る画像符号化装置の構成図である。</base:FigureReference>
        <base:FigureReference num="0002">第１の実施の形態に係る画像復号化装置の構成図である。</base:FigureReference>
        <base:FigureReference num="0003">ツリーブロックへの分割及びツリーブロック内部の分割を説明するフローチャートである。</base:FigureReference>
        <base:FigureReference num="0004">入力された画像をツリーブロックに分割する様子を示す図である。</base:FigureReference>
        <base:FigureReference num="0005">ｚ－スキャンを説明する図である。</base:FigureReference>
        <base:FigureReference num="0006">ツリーブロックを水平かつ垂直方向に４分割した図である。</base:FigureReference>
        <base:FigureReference num="0007">ツリーブロックを水平方向に２分割した図である。</base:FigureReference>
        <base:FigureReference num="0008">ツリーブロックを垂直方向に２分割した図である。</base:FigureReference>
        <base:FigureReference num="0009">ツリーブロックを水平方向及び垂直方向に４分割した場合の分割された各ブロックの処理を説明するフローチャートである。</base:FigureReference>
        <base:FigureReference num="0010">ツリーブロックを水平方向に２分割した場合の分割された各ブロックの処理を説明するフローチャートである。</base:FigureReference>
        <base:FigureReference num="0011">ツリーブロックの分割が水平方向に２分割された場合の分割されたブロックの再分割の様子を示す図である。</base:FigureReference>
        <base:FigureReference num="0012">ツリーブロックを垂直方向に２分割した場合の分割された各ブロックの処理を説明するフローチャートである。</base:FigureReference>
        <base:FigureReference num="0013">ツリーブロックの分割が垂直方向に２分割された場合の分割されたブロックの再分割の様子を示す図である。</base:FigureReference>
        <base:FigureReference num="0014">第１の実施の形態のブロック分割に関するシンタックスの例を示す図である。</base:FigureReference>
        <base:FigureReference num="0015">イントラ予測を説明する図である。</base:FigureReference>
        <base:FigureReference num="0016">インター予測を説明する図である。</base:FigureReference>
        <base:FigureReference num="0017">色差フォーマットを説明する図である。</base:FigureReference>
        <base:FigureReference num="0018">輝度色差イントラ予測を説明する図である。</base:FigureReference>
        <base:FigureReference num="0019">輝度色差イントラ予測を説明するフローチャートである。</base:FigureReference>
        <base:FigureReference num="0020">色差ブロックのサイズが輝度ブロックのサイズよりも大きい場合を説明する図である。</base:FigureReference>
        <base:FigureReference num="0021">色差ブロックのサイズが輝度ブロックのサイズよりも小さい場合を説明する図である。</base:FigureReference>
        <base:FigureReference num="0022">イントラ色差予測モードのシンタックスの例を説明する図である。</base:FigureReference>
        <base:FigureReference num="0023">周辺画素を置き換えてイントラ色差予測を制限する例を説明する図である。</base:FigureReference>
        <base:FigureReference num="0024">輝度ブロックのサイズの違いによる輝度色差イントラ予測を説明する図である。</base:FigureReference>
      </base:Paragraphs>
    </business:DrawingsDescription>
    <business:EmbodimentsDescription>
      <base:Paragraphs num="0013">
  本発明の実施の形態は、画像を矩形ブロックに分割し、分割されたブロックを符号化・

復号化する画像符号化技術を提供する。
</base:Paragraphs>
      <base:Paragraphs num="0014">
（第１の実施の形態）

  本発明の実施の形態１に係る画像符号化装置１００及び画像復号化装置２００について

説明する。
</base:Paragraphs>
      <base:Paragraphs num="0015">
  図１は第１の実施の形態に係る画像符号化装置１００の構成図である。ここで、図１で

は画像信号に関するデータの流れのみを表しており、動きベクトルや予測モードなど画像

信号以外の付加情報については各構成要素が符号化ビット列生成部１０５に供給して対応

する符号化データを生成するが、付加情報に関するデータの流れは図示していない。
</base:Paragraphs>
      <base:Paragraphs num="0016">
  ブロック分割部１０１は、画像を符号化の処理単位となる符号化対象ブロックに分割し

、符号化対象ブロック内の画像信号を残差信号生成部１０３に供給する。また、ブロック

分割部１０１は、予測画像の一致度を評価するために符号化対象ブロックの画像信号を予

測画像生成部１０２に供給する。
</base:Paragraphs>
      <base:Paragraphs num="0017">
  ブロック分割部１０１は、画像を所定サイズの矩形に再帰的に分割して符号化対象ブロ

ックを生成する。ブロック分割部１０１は、再帰的分割における対象ブロックを水平方向

かつ垂直方向に４分割して４つのブロックを生成する４分割部と、再帰的分割における対

象ブロックを水平方向又は垂直方向に２分割して２つのブロックを生成する２分割部とを

含む。ブロック分割部１０１の詳細の動作については後述する。
</base:Paragraphs>
      <base:Paragraphs num="0018">
  予測画像生成部１０２は、復号画像メモリ１０８から供給される復号画像信号から、予

測モードを基にピクチャ内予測（イントラ予測）或いはピクチャ間予測（インター予測）

を行い、予測画像信号を生成する。ブロック分割部１０１から供給される符号化対象ブロ

ック内の画像信号はイントラ予測及びインター予測の評価に用いられる。イントラ予測で

は、ブロック分割部１０１から供給される符号化対象ブロックの画像信号と、復号画像メ

モリ１０８から供給される符号化対象のブロックと同じピクチャ内に存在する符号化対象

のブロックに近接する周囲の符号化済みブロックの画像信号を用いて予測画像信号を生成

する。インター予測では、ブロック分割部１０１から供給され符号化対象ブロックの画像

信号を、符号化対象ブロックを含むピクチャ（符号化ピクチャ）の時系列で前または後ろ

にある復号画像メモリ１０８に格納されている符号化済みピクチャを参照ピクチャとし、

符号化ピクチャと参照ピクチャとの間でブロックマッチング等のブロック一致度評価を行

い、動き量を示す動きベクトルを求め、この動き量を基に参照ピクチャから動き補償を行

い、予測画像信号を生成する。予測画像生成部１０２は、こうして生成された予測画像信

号を残差信号生成部１０３に供給する。
</base:Paragraphs>
      <base:Paragraphs num="0019">
  残差信号生成部１０３は、符号化する画像信号と予測画像生成部１０２にて生成された

予測信号との減算を行い残差信号を生成し、直交変換・量子化部１０４に供給する。
</base:Paragraphs>
      <base:Paragraphs num="0020">
  直交変換・量子化部１０４は、残差信号生成部１０３から供給される残差信号を直交変

換・量子化し、直交変換・量子化された残差信号を符号化ビット列生成部１０５及び逆量

子化・逆直交変換部１０６に供給する。
</base:Paragraphs>
      <base:Paragraphs num="0021">
  符号化ビット列生成部１０５は直交変換・量子化部１０４から供給される直交変換・量

子化された残差信号に対する符号化ビット列を生成する。また、符号化ビット列生成部１

０５は動きベクトルや予測モード、ブロック分割情報などの付加情報について、対応する

符号化ビット列を生成する。
</base:Paragraphs>
      <base:Paragraphs num="0022">
  逆量子化・逆直交変換部１０６は、直交変換・量子化部１０４から供給される直交変換

・量子化された残差信号を逆量子化・逆直交変換し、逆量子化・逆直交変換された残差信

号を復号画像信号重畳部１０７に供給する。
</base:Paragraphs>
      <base:Paragraphs num="0023">
  復号画像信号重畳部１０７は、予測画像生成部１０２により生成された予測画像信号と

逆量子化・逆直交変換部１０６で逆量子化及び逆直交変換された残差信号を重畳して復号

画像を生成し、復号画像メモリ１０８に格納する。尚、復号画像に対して符号化によるブ

ロック歪等を減少させるフィルタリング処理を施して、復号画像メモリ１０８に格納する

こともある。
</base:Paragraphs>
      <base:Paragraphs num="0024">
  図２は実施の形態１に係る画像復号化装置２００の構成図である。ここで、図２では画

像信号に関するデータの流れのみを表しており、動きベクトルや予測モードなど画像信号

以外の付加情報についてはビット列復号部２０１が各構成要素に供給して対応する処理に

用いるが、付加情報に関するデータの流れは図示していない。
</base:Paragraphs>
      <base:Paragraphs num="0025">
  ビット列復号部２０１は、供給された符号化ビット列を復号化して、直交変換・量子化

された残差信号をブロック分割部２０２に供給する。
</base:Paragraphs>
      <base:Paragraphs num="0026">
  ブロック分割部２０２は、復号化したブロック分割情報に基づいて復号化対象ブロック

の形状を決定し、決定された復号化対象ブロックの直交変換・量子化された残差信号を逆

量子化・逆直交変換部２０３に供給する。
</base:Paragraphs>
      <base:Paragraphs num="0027">
  ブロック分割部２０２は、画像を復号化されたブロック分割情報に基づいて所定サイズ

の矩形に再帰的に分割して復号化対象ブロックを生成する。ブロック分割部２０２は、再

帰的分割における対象ブロックを水平方向かつ垂直方向に４分割して４つのブロックを生

成する４分割部と、再帰的分割における対象ブロックを水平方向又は垂直方向に２分割し

て２つのブロックを生成する２分割部とを含む。ブロック分割部２０２の詳細の動作につ

いては後述する。
</base:Paragraphs>
      <base:Paragraphs num="0028">
  逆量子化・逆直交変換部２０３は、供給された直交変換・量子化された残差信号に対し

て、逆直交変換及び逆量子化を行い、逆直交変換・逆量子化された残差信号を得る。
</base:Paragraphs>
      <base:Paragraphs num="0029">
  予測画像生成部２０４は、復号画像メモリ２０６から供給される復号画像信号から予測

画像信号を生成し、復号画像信号重畳部２０５に供給する。
</base:Paragraphs>
      <base:Paragraphs num="0030">
  復号画像信号重畳部２０５は、予測画像生成部２０４で生成された予測画像信号と、逆

量子化・逆直交変換部２０３により逆直交変換・逆量子化された残差信号とを重畳するこ

とにより、復号画像信号を生成し、出力するとともに復号画像メモリ２０６に格納する。

尚、復号画像に対して符号化によるブロック歪等を減少させるフィルタリング処理を施し

て、復号画像メモリ２０６に格納することもある。
</base:Paragraphs>
      <base:Paragraphs num="0031">
  画像符号化装置１００のブロック分割部１０１の動作について詳細に説明する。図３は

ツリーブロックへの分割及びツリーブロック内部の分割を説明するフローチャートである

。
</base:Paragraphs>
      <base:Paragraphs num="0032">
  まず、入力された画像を所定サイズのツリーブロックに分割する（Ｓ１０００）。例え

ば、ツリーブロックを１２８画素ｘ１２８画素とする。ただし、ツリーブロックは１２８

画素ｘ１２８画素に限定されず、矩形であればどのような大きさ及び形状を用いてもよい

。また、ツリーブロックの大きさ及び形状は、符号化装置と復号化装置の間で固定の値を

定めておいてもよいが、符号化装置が決定して符号化ビットストリーム内に記録し復号化

装置が記録されたブロックサイズを用いる構成にしてもよい。入力された画像をツリーブ

ロックに分割する様子を図４に示す。ツリーブロックは、ラスタスキャン順、すなわち左

から右、上から下に符号化及び復号化される。
</base:Paragraphs>
      <base:Paragraphs num="0033">
  ツリーブロックの内部をさらに矩形のブロックに分割していく。ツリーブロック内部は

ｚ－スキャン順に符号化・復号化していく。図５にｚ－スキャンの順序を示す。ｚ－スキ

ャンでは、左上、右上、左下、右下、の順序で符号化及び復号化する。ツリーブロック内

部の分割は４分割と２分割が可能であり、４分割は水平方向かつ垂直方向に分割する。２

分割は水平方向又は垂直方向に分割する。図６はツリーブロックを水平かつ垂直方向に４

分割した図である。図７はツリーブロックを水平方向に２分割した図である。図８はツリ

ーブロックを垂直方向に２分割した図である。
</base:Paragraphs>
      <base:Paragraphs num="0034">
  再び図３を参照する。ツリーブロック内部を水平及び垂直方向に４分割するかどうかを

判断する（Ｓ１００１）。
</base:Paragraphs>
      <base:Paragraphs num="0035">
  ツリーブロック内部を４分割すると判断した場合（Ｓ１００１：Ｙｅｓ）、ツリーブロ

ック内部を４分割し（Ｓ１００２）、水平かつ垂直方向に４分割したブロックの各処理を

行う（Ｓ１００３）。４分割されたブロックの再分割処理については後述する（図９）。
</base:Paragraphs>
      <base:Paragraphs num="0036">
  ツリーブロック内部を４分割しないと判断した場合（Ｓ１００１：Ｎｏ）、ツリーブロ

ック内部を２分割するかどうかを判断する（Ｓ１００４）。
</base:Paragraphs>
      <base:Paragraphs num="0037">
  ツリーブロック内部を２分割すると判断した場合（Ｓ１００４：Ｙｅｓ）、２分割する

方向を水平方向とするかどうかを判断する（Ｓ１００５）。
</base:Paragraphs>
      <base:Paragraphs num="0038">
  ２分割する方向を水平方向と判断した場合（Ｓ１００５：Ｙｅｓ）、ツリーブロック内

部を水平方向に２分割し（Ｓ１００６）、水平方向に２分割したブロックの各処理を行う

（Ｓ１００７）。水平方向に２分割されたブロックの再分割処理については後述する（図

１０）。
</base:Paragraphs>
      <base:Paragraphs num="0039">
  ２分割する方向を水平方向ではなく垂直方向と判断した場合（Ｓ１００５：Ｎｏ）、ツ

リーブロック内部を垂直方向に２分割し（Ｓ１００８）、垂直方向に２分割したブロック

の各処理を行う（Ｓ１００９）。水平方向に２分割されたブロックの再分割処理について

は後述する（図１１）。
</base:Paragraphs>
      <base:Paragraphs num="0040">
  ツリーブロック内部を２分割しないと判断した場合（Ｓ１００４：Ｎｏ）、ツリーブロ

ックの内部をブロック分割せずにブロック分割処理を終了する（Ｓ１０１０）。
</base:Paragraphs>
      <base:Paragraphs num="0041">
  続いて、ツリーブロックを水平方向かつ垂直方向に４分割した場合の分割された各ブロ

ックの処理について図９のフローチャートを用いて説明する。
</base:Paragraphs>
      <base:Paragraphs num="0042">
  ブロック内部を水平かつ垂直方向に再び４分割するかどうかを判断する（Ｓ１１０１）

。
</base:Paragraphs>
      <base:Paragraphs num="0043">
  ブロック内部を再び４分割すると判断した場合（Ｓ１１０１：Ｙｅｓ）、ブロック内部

を再び４分割し（Ｓ１１０２）、水平かつ垂直方向に４分割したブロックの各処理を行う

（Ｓ１１０３）。
</base:Paragraphs>
      <base:Paragraphs num="0044">
  ブロック内部を再び４分割しないと判断した場合（Ｓ１１０１：Ｎｏ）、ブロック内部

を２分割するかどうかを判断する（Ｓ１１０４）。
</base:Paragraphs>
      <base:Paragraphs num="0045">
  ブロック内部を２分割すると判断した場合（Ｓ１１０４：Ｙｅｓ）、２分割する方向を

水平方向とするかどうかを判断する（Ｓ１１０５）。
</base:Paragraphs>
      <base:Paragraphs num="0046">
  ２分割する方向を水平方向と判断した場合（Ｓ１１０５：Ｙｅｓ）、ブロック内部を水

平方向に２分割し（Ｓ１１０６）、水平方向に２分割したブロックの各処理を行う（Ｓ１

１０７）。
</base:Paragraphs>
      <base:Paragraphs num="0047">
  ２分割する方向を水平方向ではなく垂直方向と判断した場合（Ｓ１１０５：Ｎｏ）、ブ

ロック内部を垂直方向に２分割し（Ｓ１１０８）、垂直方向に２分割したブロックの各処

理を行う（Ｓ１１０９）。
</base:Paragraphs>
      <base:Paragraphs num="0048">
  ブロック内部を２分割しないと判断した場合（Ｓ１１０４：Ｎｏ）、ブロックの内部を

ブロック分割せずにブロック分割処理を終了する（Ｓ１１１０）。
</base:Paragraphs>
      <base:Paragraphs num="0049">
  図９のフローチャートに示す処理が４分割された各ブロックについて実行される。４分

割されたブロックの内部もｚ－スキャン順に符号化及び復号化していく。
</base:Paragraphs>
      <base:Paragraphs num="0050">
  続いて、ツリーブロックを水平方向に２分割した場合の分割された各ブロックの処理に

ついて図１０のフローチャートを用いて説明する。
</base:Paragraphs>
      <base:Paragraphs num="0051">
  ツリーブロックを水平方向に２分割した場合、２分割された各ブロックは、まず、ブロ

ック内部を水平及び垂直方向に４分割するかどうかを判断する（Ｓ１２０１）。
</base:Paragraphs>
      <base:Paragraphs num="0052">
  ブロック内部を４分割すると判断した場合（Ｓ１２０１：Ｙｅｓ）、ブロック内部を４

分割し（Ｓ１２０２）、水平かつ垂直方向に４分割したブロックの各処理を行う（Ｓ１２

０３）。
</base:Paragraphs>
      <base:Paragraphs num="0053">
  ブロック内部を４分割しないと判断した場合（Ｓ１２０１：Ｎｏ）、ブロック内部を再

び２分割するかどうかを判断する（Ｓ１２０４）。
</base:Paragraphs>
      <base:Paragraphs num="0054">
  再び２分割すると判断した場合（Ｓ１２０４：Ｙｅｓ）、ブロック内部を垂直方向に分

割し（Ｓ１２０５）、垂直方向に２分割したブロックの各処理を行う（Ｓ１２０６）。
</base:Paragraphs>
      <base:Paragraphs num="0055">
  再び２分割しないと判断した場合（Ｓ１２０４：Ｎｏ）、ブロックの内部を再分割せず

ブロック分割処理を終了する（Ｓ１２０７）。
</base:Paragraphs>
      <base:Paragraphs num="0056">
  図１１にツリーブロックの分割が水平方向に２分割された場合の分割されたブロックの

再分割の様子を示す。ここで、親ブロックであるツリーブロックが水平方向に２分割され

た場合、分割されたブロックの再２分割では、垂直方向のみの２分割を許容し、自動的に

垂直方向に２分割する。また、親ブロックであるツリーブロックが２分割された場合、子

ブロックでは４分割も完全に禁止することも可能である。これにより、親ブロックと同一

方向にブロックが分割されることを禁止できるため、より横方向に細長い長方形となるブ

ロック分割を防止でき、符号化・復号化の処理がしやすくなる。
</base:Paragraphs>
      <base:Paragraphs num="0057">
  図１０のフローチャートに示す処理が水平方向に２分割された各ブロックについて実行

される。２分割されたブロックの内部も上、下の順に符号化及び復号化していく。
</base:Paragraphs>
      <base:Paragraphs num="0058">
  続いて、ツリーブロックを垂直方向に２分割した場合の分割された各ブロックの処理に

ついて図１２のフローチャートを用いて説明する。
</base:Paragraphs>
      <base:Paragraphs num="0059">
  ツリーブロックを垂直方向に２分割した場合、２分割された各ブロックは、まず、ブロ

ック内部を水平及び垂直方向に４分割するかどうかを判断する（Ｓ１３０１）。
</base:Paragraphs>
      <base:Paragraphs num="0060">
  ブロック内部を４分割すると判断した場合（Ｓ１３０１：Ｙｅｓ）、ブロック内部を４

分割し（Ｓ１３０２）、水平かつ垂直方向に４分割したブロックの各処理を行う（Ｓ１３

０３）。
</base:Paragraphs>
      <base:Paragraphs num="0061">
  ブロック内部を４分割しないと判断した場合（Ｓ１３０１：Ｎｏ）、ブロック内部を再

び２分割するかどうかを判断する（Ｓ１３０４）。
</base:Paragraphs>
      <base:Paragraphs num="0062">
  再び２分割すると判断した場合（Ｓ１３０４：Ｙｅｓ）、ブロック内部を水平方向に分

割し（Ｓ１３０５）、水平方向に２分割したブロックの各処理を行う（Ｓ１３０６）。
</base:Paragraphs>
      <base:Paragraphs num="0063">
  再び２分割しないと判断した場合（Ｓ１３０４：Ｎｏ）、ブロックの内部を再分割せず

ブロック分割処理を終了する（Ｓ１３０７）。
</base:Paragraphs>
      <base:Paragraphs num="0064">
  図１３にツリーブロックの分割が垂直方向に２分割された場合の分割されたブロックの

再分割の様子を示す。ここで、親ブロックであるツリーブロックが垂直方向に２分割され

た場合、分割されたブロックの再２分割では、水平方向のみの２分割を許容し、自動的に

水平方向に２分割する。また、親ブロックであるツリーブロックが２分割された場合、子

ブロックでは４分割も完全に禁止することも可能である。これにより、親ブロックと同一

方向にブロックが分割されることを禁止できるため、より縦方向に細長い長方形となるブ

ロック分割を防止でき、符号化・復号化の処理がしやすくなる。
</base:Paragraphs>
      <base:Paragraphs num="0065">
  図１２のフローチャートに示す処理が垂直方向に２分割された各ブロックについて実行

される。２分割されたブロックの内部も左、右の順に符号化及び復号化していく。
</base:Paragraphs>
      <base:Paragraphs num="0066">
  なお、ツリーブロックが分割された時の分割されたブロックの再分割について説明した

が、親ブロックがツリーブロックでなくてもよい。例えば、ツリーブロック（１２８ｘ１

２８）を４分割し、４分割されたブロック（６４ｘ６４）をさらに４分割又は２分割した

場合に、再分割されたブロックの分割にも上記処理を適用していく。
</base:Paragraphs>
      <base:Paragraphs num="0067">
  次に、画像復号化装置２００のブロック分割部２０２の動作について説明する。画像符

号化装置１００のブロック分割部１０１と同じ処理手順でブロックを分割するが、画像符

号化装置１００のブロック分割部１０１では、ブロック分割のパターンを選択し、選択し

たブロック分割情報を出力するのに対して、画像復号化装置のブロック分割部２０２は、

符号化ビットストリームから復号化されたブロック分割情報を用いてブロックを分割する

こと、また、符号化ビットストリームからブロック分割情報を復号化する際に、同一方向

への再分割が禁止される状況では、選択肢のない情報はビットストリーム内で伝送しない

シンタックス構造となっていることが異なる。
</base:Paragraphs>
      <base:Paragraphs num="0068">
  第１の実施の形態のブロック分割に関するシンタックス（符号化ビットストリームの構

文規則）の例を図１４に示す。ツリーブロックの内部の分割は、まず４分割をするかどう

かのフラグ（4_division_flag）を送受信する。４分割する場合（4_division_flagが1）

は、ツリーブロック内を４分割して処理を終了する。その後４分割されたブロックについ

て再度図１４に示すシンタックスで内部を再分割する。４分割しない場合（4_division_f

lagが0）は、２分割するかどうかのフラグ（2_division_flag）を送受信する。２分割す

る場合（2_division_flagが1）は、さらに、２分割する方向を示すフラグ（2_division_d

irection）を送受信する。2_division_directionが1の場合は垂直方向への分割を示し、2

_division_directionが0の場合は水平方向への分割を示す。その後２分割されたブロック

について再度図１４に示すシンタックスでブロック内部を再分割する。２分割しない場合

（2_division_flagが0）は、ツリーブロックを分割せずに処理を終了する。
</base:Paragraphs>
      <base:Paragraphs num="0069">
  ここで、４分割又は２分割されたブロックの内部を再分割する処理について説明する。

ブロック内部を再分割する処理も図１４に示すシンタックスを用いるが、ツリーブロック

を分割する場合と比較して、２分割する場合の分割方向に制限があることが異なる。つま

り、ツリーブロックを２分割している場合、２分割されたブロックの内部を再分割する場

合には、ツリーブロックを２分割した分割方向と同一の方向で分割することを禁止する。

これにより、分割されたブロックがより細長い長方形になることを防止し、イントラ予測

やインター予測で必要となるメモリ帯域の増加を防止することができる。メモリ帯域の増

加の防止についての詳細は後述する。
</base:Paragraphs>
      <base:Paragraphs num="0070">
  また、同一方向に２分割した数をカウントして所定回数を超えた場合に同一方向に分割

することを制限してももちろんよい。例えば、２回まで同一方向への２分割を許可するが

、３回目からは同一方向への２分割を禁止する。
</base:Paragraphs>
      <base:Paragraphs num="0071">
  図１４では、４分割を優先して選択し、４分割するかどうかの情報を２分割するかどう

かの情報よりも先に送受信するシンタックスとした。一方、２分割を優先して選択する場

合、２分割するかどうかの情報を４分割するかどうかの情報よりも先に送受信するシンタ

ックスとすることも可能である。確率的により発生しやすい事象を先に送受信する方がビ

ットストリームとして伝送する符号量が少なくなるためである。つまり、予め４分割と２

分割のどちらが発生しやすいか推定し、より発生しやすい分割情報を先にする送受信する

シンタックスとしてもよい。例えば、画像のヘッダ情報で４分割を優先するか、２分割を

優先するかを送受信することで、符号化装置が適応的に符号化効率の高い優先分割数を決

定して、復号化装置では選択された優先分割数に基づいたシンタックスでツリーブロック

内部を分割することもできる。
</base:Paragraphs>
      <base:Paragraphs num="0072">
  画像符号化装置１００及び画像復号化装置２００において、分割されたブロックを用い

てイントラ予測やインター予測が行われる。イントラ予測、インター予測ともにメモリか

らの画素のコピーを伴う。
</base:Paragraphs>
      <base:Paragraphs num="0073">
  図１５（ａ）～図１５（ｄ）にイントラ予測の一例を示す。図１５（ａ）及び図１５（

ｂ）はイントラ予測の予測方向とモード番号を示す。イントラ予測は、図１５（ｃ）及び

図１５（ｄ）に示すように、符号化・復号化対象ブロックに近接する符号化・復号化済の

画素から画素をコピーすることで符号化・復号化対象ブロックの予測画像を生成する。イ

ントラ予測では、ブロック単位で予測画像生成から符号化・復号化画素生成を繰り返すた

め、処理順序がブロック単位でシーケンシャルとなり、ブロック内部を小さく分割するほ

ど全体の処理の負荷が大きくなる。また、ブロックの形状が細長い長方形になるほどメモ

リからの画素コピーの処理が大きくなる。また、符号化・復号化には残差信号の直交変換

を行うため、長方形のサイズの種類が多くなればなるほど必要な直交変換の種類が多くな

り、その結果回路規模の増大につながる。そのため、ブロック内部を２分割する場合に、

親ブロックの分割方法と同一方向に２分割することを制限することで、イントラ予測で必

要となるメモリ帯域の増加を防止することができる。
</base:Paragraphs>
      <base:Paragraphs num="0074">
  図１６にインター予測の一例を示す。インター予測は、符号化・復号化済の画像に含ま

れる画素からブロック単位で画素をコピーすることで符号化・復号化対象ブロックの予測

画像を生成する。インター予測では、参照画像からブロック単位で画素をコピーする際に

、必要な画素が含まれるメモリの管理単位での取得が必要な装置の構成となることが多い

。そのため、ブロックを小さく分割するほど、また、ブロックの形状が細長い長方形にな

るほど、全体の処理の負荷が大きくなる。また、参照画像に対して補間フィルタを用いた

小数精度の動き補償を行う場合には、ブロック内に含まれる画素に数画素を加えた画素の

コピーが必要となり、ブロックの大きさが小さいほど、追加する数画素の相対的な比率が

大きくなり、全体の処理の負荷が大きくなる。そのため、ブロック内部を２分割する場合

に、親のブロックの分割方向と同一方向に２分割することを制限することで、インター予

測で必要となるメモリ帯域の増加を防止することができる。
</base:Paragraphs>
      <base:Paragraphs num="0075">
  続いて、イントラ予測での輝度信号と色差信号の関係について説明する。輝度信号と色

差信号間のフォーマットとして、４：２：０、４：２：２、４：４：４などが従来から知

られている。図１７（ａ）に示す４：２：０フォーマットは、輝度信号を水平／垂直方向

ともに２画素をサンプリングするのに対して、色差信号を水平／垂直方向ともに１画素を

サンプリングする。人間の目は色差信号よりも輝度信号をより敏感に知覚できるため、輝

度信号よりも色差信号の情報量を減らしている。図１７（ｂ）に示す４：２：２フォーマ

ットは、輝度信号を水平方向に２画素をサンプリングするのに対して、色差信号を水平方

向に１画素サンプリングする。垂直方向については、輝度信号を垂直方向に２画素をサン

プリングするのに対して、色差信号を垂直方向に２画素サンプリングする。図１７（ｃ）

に示す４：４：４フォーマットは、輝度信号を水平／垂直方向に２画素をサンプリングす

るのに対して、色差信号を水平／垂直方向ともに２画素をサンプリングする。
</base:Paragraphs>
      <base:Paragraphs num="0076">
  画像符号化で最も広く使用されている４：２：０フォーマットを例として本実施の形態

を説明する。ブロック分割部１０１、２０２は、画像の輝度信号を分割して輝度ブロック

を生成する輝度ブロック分割部と、画像の色差信号を分割して色差ブロックを生成する色

差ブロック分割部とを含み、イントラ予測において、輝度信号と色差信号をそれぞれ独立

してブロック分割する。つまり、イントラ予測では輝度ブロックの大きさと色差ブロック

の大きさは独立して決定される。イントラ予測では、輝度信号と色差信号のそれぞれが周

辺画素から画素値をコピーするため、輝度信号と色差信号を独立してブロック分割すると

予測効率が高まる。それに対して、インター予測については輝度信号と色差信号を一緒に

扱ってブロック分割する。つまり、インター予測では輝度ブロックの大きさと色差ブロッ

クの大きさは同一である。インター予測では動き補償において輝度と色差を区別する必要

がないためである。
</base:Paragraphs>
      <base:Paragraphs num="0077">
  予測画像生成部１０２、２０４は、輝度信号を予測する輝度信号予測部と、色差信号を

予測する色差信号予測部とを含み、色差信号予測部は、イントラ予測における色差信号の

予測効率を高めるため、輝度信号の符号化・復号化済画素から色差信号を予測する輝度色

差イントラ予測を行う。輝度色差イントラ予測では、プライマリ信号をセカンダリ信号よ

りも先に符号化・復号化し、符号化・復号化済のプライマリ信号を用いてセカンダリ信号

を予測する。ここで、４：２：０フォーマットや４：２：２フォーマットでは色差信号よ

りも輝度信号の情報量が多いため、輝度信号をプライマリ信号とし、色差信号をセカンダ

リ信号とする。４：４：４フォーマットでは、輝度信号と色差信号の情報量は同じである

が、他のフォーマットに合わせて、輝度信号をプライマリ信号とし、色差信号をセカンダ

リ信号とするのが普通である。
</base:Paragraphs>
      <base:Paragraphs num="0078">
  図１８は、輝度色差イントラ予測を説明する図であり、図１９は、輝度色差イントラ予

測を説明するフローチャートである。
</base:Paragraphs>
      <base:Paragraphs num="0079">
  図１８に示すように、輝度色差イントラ予測は、輝度ブロック１０の符号化・復号化済

の周辺画素１２ａ、１２ｂと、色差ブロック１４の符号化・復号化済の周辺画素１６ａ、

１６ｂとの間の相関度合いに基づいて行われる。輝度色差イントラ予測は、色差信号を予

測するものであるから、相関度合いを算出する対象となる周辺画素は、符号化・復号化対

象の色差ブロックの周辺画素を基準にして規定される。すなわち、色差ブロックに対して

決まる周辺画素と同一位置にある輝度ブロックの周辺画素が相関度合いの算出の対象とな

る。
</base:Paragraphs>
      <base:Paragraphs num="0080">
  まず、符号化・復号化済の輝度信号の周辺画素と色差信号の周辺画素間の相関度合いを

算出する（Ｓ１９０１）。続いて、符号化・復号化対象ブロックの符号化・復号化済輝度

信号をダウンサンプルする（Ｓ１９０２）。ここで、ダウンサンプルするフィルタタイプ

を複数準備してフィルタタイプを選択できるようにしてもよい。例えば、強度の異なるフ

ィルタを準備して複数のフィルタタイプを選択する、又は、フィルタのタップ数が異なる

フィルタを準備して複数のフィルタタイプを選択するようにしてもよい。フィルタタイプ

は周辺画素間の相関度合いを用いて自動選択してもよく、フィルタタイプをビットストリ

ーム内に符号化・復号化して伝送してもよい。また、周辺画素間の相関度合いを用いて符

号化・復号化対象ブロックの輝度信号のダウンサンプルフィルタを決定するのでなければ

、ステップＳ１９０１とステップＳ１９０２の処理は順不同であり、ステップＳ１９０１

とステップＳ１９０２は並列処理可能である。
</base:Paragraphs>
      <base:Paragraphs num="0081">
  最後に、周辺画素間の相関度合いに基づいて、ダウンサンプルした輝度信号から色差信

号を予測する（Ｓ１９０３）。ダウンサンプルは、４：２：０フォーマットの場合は、水

平／垂直方向に１／２となる。４：２：２フォーマットの場合は、水平方向に１／２とな

り、垂直方向にはダウンサンプルしない。４：４：４フォーマットの場合は、水平／垂直

方向ともにダウンサンプルしない。
</base:Paragraphs>
      <base:Paragraphs num="0082">
  輝度色差イントラ予測では、符号化・復号化対象ブロックの輝度信号の符号化・復号化

が完了した後に、色差信号の予測処理を開始できる。そのため、色差ブロックの予測処理

を開始できるタイミングは、輝度ブロックのサイズと色差ブロックのサイズに依存する。
</base:Paragraphs>
      <base:Paragraphs num="0083">
  図２０（ａ）及び図２０（ｂ）は、色差ブロックのサイズが輝度ブロックのサイズより

も大きい場合の輝度色差イントラ予測を説明する図である。図２０（ａ）に示す４分割さ

れた第１～第４輝度ブロック２０ａ、２０ｂ、２０ｃ、２０ｄの画素数は１６ｘ１６であ

り、図２０（ｂ）に示す色差ブロック２０ｅの画素数は１６ｘ１６である。
</base:Paragraphs>
      <base:Paragraphs num="0084">
  ここで、輝度ブロックと色差ブロックのサイズの比較は、ブロック内の画素数での比較

ではなく、色差フォーマットを考慮した面積での比較である。即ち、４：２：０フォーマ

ットにおいて、輝度ブロックが占める面積は、色差ブロックが占める面積の１／２である

から、輝度ブロックの画素数が１６ｘ１６であり、色差ブロックの画素数が１６ｘ１６で

ある場合、輝度ブロックのサイズの方が小さい。４：２：０フォーマットにおいて、輝度

ブロックの画素数が１６ｘ１６であり、色差ブロックの画素数が８ｘ８である場合、両者

のブロックが占める面積は同一であり、輝度ブロックと色差ブロックは同一のサイズであ

る。
</base:Paragraphs>
      <base:Paragraphs num="0085">
  輝度ブロックと色差ブロックのサイズの比較を、ブロックの面積の比較ではなく、ブロ

ック内の画素数の比較で行うには、色差フォーマットにおける輝度信号と色差信号の比率

で色差ブロックの画素数を輝度ブロックの画素数に換算すればよい。４：２：０フォーマ

ットの場合、輝度信号の画素数は色差信号の画素数の２倍であるから、色差ブロックの縦

横の画素数を２倍して輝度ブロックの縦横の画素数に換算する。たとえば、４：２：０フ

ォーマットにおいて、輝度ブロックのサイズが１６ｘ１６であり、色差ブロックのサイズ

が１６ｘ１６である場合、輝度ブロックの画素数に換算した色差ブロックの換算サイズは

３２ｘ３２になり、色差ブロックのサイズの方が大きいことがわかる。
</base:Paragraphs>
      <base:Paragraphs num="0086">
  イントラ予測はブロック単位で復号処理を完了した後に、続くブロックの予測処理が可

能になる。つまり、第１輝度ブロック２０ａの復号が完了した後に、第２輝度ブロック２

０ｂの復号が可能になり、第２輝度ブロック２０ｂの復号が完了した後に、第３輝度ブロ

ック２０ｃの復号が可能になり、第３輝度ブロック２０ｃの復号が完了した後に、第４輝

度ブロック２０ｄの復号が可能になる。
</base:Paragraphs>
      <base:Paragraphs num="0087">
  色差ブロックのサイズが輝度ブロックのサイズよりも大きい場合、色差ブロック２０ｅ

の予測処理に必要な周辺画素は、輝度画素、色差画素ともに４つの輝度ブロック２０ａ、

２０ｂ、２０ｃ、２０ｄの復号前に存在しており、４つの輝度ブロック２０ａ、２０ｂ、

２０ｃ、２０ｄの復号を待たずに、図１９のステップＳ１９０１の輝度信号の周辺画素と

色差信号の周辺画素間の相関度合いを算出可能である。
</base:Paragraphs>
      <base:Paragraphs num="0088">
  次に、第１輝度ブロック２０ａの復号完了後、図１９のステップＳ１９０２の輝度信号

のダウンサンプルを実行する。第２輝度ブロック２０ｂの復号完了を待たずに、第１輝度

ブロック２０ａの位置に対応する色差ブロック２０ｅの画素が予測可能である。同様に、

第２輝度ブロック２０ｂの復号完了後、輝度信号のダウンサンプルを実行し、第３輝度ブ

ロック２０ｃの復号完了を待たずに、第２輝度ブロック２０ｂの位置に対応する色差ブロ

ック２０ｅの画素を予測する。さらに、第３輝度ブロック２０ｃの復号完了後、輝度信号

のダウンサンプルを実行し、第４輝度ブロック２０ｄの復号完了を待たずに、第３輝度ブ

ロック２０ｃの位置に対応する色差ブロック２０ｅの画素を予測する。最後に、第４輝度

ブロック２０ｄの復号完了後、輝度信号のダウンサンプルを実行し、第４輝度ブロック２

０ｄの位置に対応する色差ブロック２０ｅの画素を予測する。
</base:Paragraphs>
      <base:Paragraphs num="0089">
  図２１（ａ）及び図２１（ｂ）は、色差ブロックのサイズが輝度ブロックのサイズより

も小さい場合の輝度色差イントラ予測を説明する図である。図２１（ａ）に示す輝度ブロ

ック２１ａの画素数は１６ｘ１６であり、図２１（ｂ）に示す４分割された第１～第４色

差ブロック２１ｂ、２１ｃ、２１ｄ、２１ｅの画素数は４ｘ４である。
</base:Paragraphs>
      <base:Paragraphs num="0090">
  ４：２：０フォーマットにおいて、輝度ブロックが占める面積は、色差ブロックが占め

る面積の１／２であるから、輝度ブロックの画素数が１６ｘ１６であり、色差ブロックの

画素数が４ｘ４である場合、色差ブロックのサイズの方が小さい。輝度ブロックと色差ブ

ロックのサイズの比較を、ブロックの面積の比較ではなく、ブロック内の画素数の比較で

行うには、４：２：０フォーマットの場合、色差ブロックの縦横の画素数を２倍して輝度

ブロックの縦横の画素数に換算する。４：２：０フォーマットにおいて、輝度ブロックの

サイズが１６ｘ１６であり、色差ブロックのサイズが４ｘ４である場合、輝度ブロックの

画素数に換算した色差ブロックの換算サイズは８ｘ８になり、色差ブロックのサイズの方

が小さいことがわかる。
</base:Paragraphs>
      <base:Paragraphs num="0091">
  色差ブロックのサイズが輝度ブロックのサイズよりも小さい場合、第１色差ブロック２

１ｂの周辺画素は、輝度画素、色差画素ともに輝度ブロック２１ａの復号前から利用でき

るが、第２～第４色差ブロック２１ｃ、２１ｄ、２１ｅの周辺画素は、輝度ブロック２１

ａの復号が完了しないと利用できない。つまり、輝度ブロック２１ａの復号が完了し、第

１色差ブロック２１ｂの復号が完了しないと、第２色差ブロック２１ｃについて、図１９

のステップＳ１９０１の輝度信号の周辺画素と色差信号の周辺画素間の相関度合いを算出

できない。同様に、第３色差ブロック２１ｄについて、輝度ブロック２１ａの復号が完了

し、第１、第２色差ブロック２１ｂ、２１ｃの復号が完了しないと、第３色差ブロック２

１ｄについて、輝度信号の周辺画素と色差信号の周辺画素間の相関度合いを算出できない

。同様に、第４色差ブロック２１ｅについて、輝度ブロック２１ａの復号が完了し、第１

～第３色差ブロック２１ｂ、２１ｃ、２１ｄの復号が完了しないと、第４色差ブロック２

１ｅについて、輝度信号の周辺画素と色差信号の周辺画素間の相関度合いを算出できない

。
</base:Paragraphs>
      <base:Paragraphs num="0092">
  このように、色差ブロックのサイズが輝度ブロックのサイズよりも小さい場合、輝度色

差イントラ予測を行うと、色差ブロックの予測処理において、輝度ブロックと色差ブロッ

ク間及び色差ブロック間で処理の依存関係があり並列処理に向かない。そこで、色差ブロ

ックのサイズが輝度ブロックのサイズよりも小さい場合、輝度色差イントラ予測を制限す

る。輝度色差イントラ予測を制限する方法としては、（１）シンタックスで制限する、（

２）イントラ色差モードを置き換える、（３）周辺画素を置き換える、などがある。
</base:Paragraphs>
      <base:Paragraphs num="0093">
  図２２にイントラ色差予測モードのシンタックスの例を示す。色差予測モードの番号が

０の場合、輝度予測モードと同一のイントラ予測モードを色差予測モードに使用する。例

えば、輝度予測モードが水平予測モードの場合、色差予測モードも水平予測モードとなる

。色差予測モードの番号が１の場合、平均値モード（ＤＣモード）を使用する。ＤＣモー

ドは周辺画素の平均値でイントラ予測する。色差予測モードの番号が２の場合、輝度色差

イントラ予測モードを使用する。
</base:Paragraphs>
      <base:Paragraphs num="0094">
  輝度色差イントラ予測を制限する方法として、（１）シンタックスで制限する場合、モ

ード２は輝度色差イントラ予測を表すため使用禁止となる。つまり、モード２は伝送され

ず、イントラ色差モードはモード０とモード１から選択される。
</base:Paragraphs>
      <base:Paragraphs num="0095">
  輝度色差イントラ予測を制限する方法として、（２）イントラ色差モードを置き換える

場合、色差予測モードの番号がモード２として指定された場合に、輝度色差イントラ予測

モードではなく、代わりに垂直予測モードを使用する。ただし、置き換える予測モードは

垂直予測モードに限らず、他の予測モードでもよい。また、モード０の輝度予測モードと

モード２で置き換えるモードが同一になり、使用するモードが重複することがないように

することがより好ましい。
</base:Paragraphs>
      <base:Paragraphs num="0096">
  輝度色差イントラ予測を制限する方法として、（３）周辺画素を置き換える場合、図１

９のステップＳ１９０１の輝度信号の周辺画素と色差信号の周辺画素間の相関度合いを算

出するための周辺画素を置き換える。図２１の第２～第４色差ブロック２１ｃ、２１ｄ、

２１ｅにおいても輝度ブロック２１ａの復号を待たずに周辺画素の相関度合いを算出でき

るようにする。
</base:Paragraphs>
      <base:Paragraphs num="0097">
  周辺画素の置き換えの例を図２３に示す。第２色差ブロック２１ｃの左辺の周辺画素と

して通常は第１色差ブロック２１ｂ内の画素を使用するが、第１色差ブロック２１ｂ内の

画素を使用するには、輝度ブロック２１ａ及び第１色差ブロック２１ｂの復号完了を待つ

必要がある。そこで、輝度ブロック２１ａの復号完了を待たずに使用可能な領域２１ｆを

第２色差ブロック２１ｃの周辺画素として使用する。同様に、第３色差ブロック２１ｄに

ついても、輝度ブロック２１ａの復号完了を待たずに使用可能な領域２１ｆを第３色差ブ

ロック２１ｄの周辺画素として使用する。同様に、第４色差ブロック２１ｅについても、

輝度ブロック２１ａの復号完了を待たずに使用可能な領域２１ｆを第４色差ブロック２１

ｅの周辺画素として使用する。
</base:Paragraphs>
      <base:Paragraphs num="0098">
  このように、第１の実施の形態では、輝度色差イントラ予測を行う際に、色差ブロック

のサイズが輝度ブロックのサイズよりも小さい場合、輝度色差イントラ予測を制限するこ

とにより、輝度ブロックと色差ブロック間で処理の依存関係を緩和することが可能になる

。これにより、輝度ブロックと色差ブロックの並列処理が可能になり、符号化・復号化の

処理量を削減できる。
</base:Paragraphs>
      <base:Paragraphs num="0099">
（第２の実施の形態）

  本発明の第２の実施の形態について説明する。第２の実施の形態では、輝度ブロックと

色差ブロックのサイズの大小関係ではなく、輝度ブロックのサイズと色差ブロックのサイ

ズのそれぞれを独立に評価して輝度色差イントラ予測を制限することが第１の実施の形態

とは異なり、それ以外の構成と動作は第１の実施の形態と同じである。
</base:Paragraphs>
      <base:Paragraphs num="0100">
  まず、輝度ブロックのサイズに基づく制限について説明する。図２４（ａ）～図２４（

ｃ）に輝度ブロックのサイズの違いによる輝度色差イントラ予測を示す。図２４（ａ）、

図２４（ｂ）に示すように、第１輝度ブロック２４ａは第１色差ブロック２４ｅの位置に

対応し、第２輝度ブロック２４ｂは第２色差ブロック２４ｆの位置に対応し、第３輝度ブ

ロック２４ｃは第３色差ブロック２４ｇの位置に対応し、第４輝度ブロック２４ｄは第４

色差ブロック２４ｈの位置に対応する。また、図２４（ｃ）の輝度ブロック２４ｉは、図

２４（ｂ）の第１～第４色差ブロック２４ｅ、２４ｆ、２４ｇ、２４ｈの位置に対応する

。
</base:Paragraphs>
      <base:Paragraphs num="0101">
  輝度ブロックと色差ブロックの依存関係について説明する。図２４（ａ）のように輝度

ブロックのサイズが小さい場合、第１輝度ブロック２４ａの復号が完了すると、第１色差

ブロック２４ｅの復号が可能になる。第２輝度ブロック２４ｂの復号が完了すると、第２

色差ブロック２４ｆの復号が可能になる。第３輝度ブロック２４ｃの復号が完了すると、

第３色差ブロック２４ｇの復号が可能になる。第４輝度ブロック２４ｄの復号が完了する

と、第４色差ブロック２４ｈの復号が可能になる。
</base:Paragraphs>
      <base:Paragraphs num="0102">
  一方、図２４（ｃ）のように輝度ブロックのサイズが大きい場合、輝度ブロック２４ｉ

の復号が完了しないと、第１～第４色差ブロック２４ｅ、２４ｆ、２４ｇ、２４ｈの復号

はすべて可能にならない。
</base:Paragraphs>
      <base:Paragraphs num="0103">
  輝度ブロックの分割と色差ブロックの分割を独立して決定する場合、輝度ブロックの絶

対サイズが大きいと、色差ブロックのサイズが輝度ブロックのサイズよりも小さくなる可

能性が高まる。そこで、輝度ブロックの絶対サイズが所定サイズ以上の場合、対応する色

差ブロックの輝度色差イントラ予測を制限する。
</base:Paragraphs>
      <base:Paragraphs num="0104">
  同様に、色差ブロックの絶対サイズが小さいと、色差ブロックのサイズが輝度ブロック

のサイズよりも小さくなる可能性が高まる。そこで、色差ブロックの絶対サイズが所定サ

イズ以下の場合、色差ブロックの輝度色差イントラ予測を制限する。
</base:Paragraphs>
      <base:Paragraphs num="0105">
  輝度色差イントラ予測の制限方法は、第１の実施の形態と同様である。
</base:Paragraphs>
      <base:Paragraphs num="0106">
  このように、第２の実施の形態では、輝度ブロックの絶対サイズが閾値よりも大きい場

合、又は、色差ブロックの絶対サイズが閾値よりも小さい場合に、輝度色差イントラ予測

を制限する。これにより、色差ブロックのサイズが輝度ブロックのサイズよりも小さくな

る場合を予想して、輝度色差イントラ予測を制限し、輝度ブロックと色差ブロック間で処

理の依存関係を確率的に緩和することが可能になる。
</base:Paragraphs>
      <base:Paragraphs num="0107">
（第３の実施の形態）

  本発明の第３の実施の形態について説明する。第３の実施の形態では、ブロック分割部

１０１において、色差ブロックのサイズが輝度ブロックのサイズより小さくならないよう

に、色差ブロックを分割することが第１の実施の形態とは異なり、それ以外の構成と動作

は第１の実施の形態と同じである。ブロック分割部１０１は、色差ブロックを分割する際

、色差ブロックのサイズが輝度ブロックのサイズ未満になるような分割を禁止する。これ

により、輝度色差イントラ予測において、色差ブロックのサイズが輝度ブロックのサイズ

より小さくなることが回避され、輝度ブロックと色差ブロックの並列処理が常に可能にな

る。
</base:Paragraphs>
      <base:Paragraphs num="0108">
  以上述べた実施の形態の画像符号化装置が出力する画像の符号化ビットストリームは、

実施の形態で用いられた符号化方法に応じて復号化することができるように特定のデータ

フォーマットを有しており、画像符号化装置に対応する画像復号化装置がこの特定のデー

タフォーマットの符号化ビットストリームを復号化することができる。
</base:Paragraphs>
      <base:Paragraphs num="0109">
  画像符号化装置と画像復号化装置の間で符号化ビットストリームをやりとりするために

、有線または無線のネットワークが用いられる場合、符号化ビットストリームを通信路の

伝送形態に適したデータ形式に変換して伝送してもよい。その場合、画像符号化装置が出

力する符号化ビットストリームを通信路の伝送形態に適したデータ形式の符号化データに

変換してネットワークに送信する送信装置と、ネットワークから符号化データを受信して

符号化ビットストリームに復元して画像復号化装置に供給する受信装置とが設けられる。
</base:Paragraphs>
      <base:Paragraphs num="0110">
  送信装置は、画像符号化装置が出力する符号化ビットストリームをバッファするメモリ

と、符号化ビットストリームをパケット化するパケット処理部と、パケット化された符号

化データをネットワークを介して送信する送信部とを含む。受信装置は、パケット化され

た符号化データをネットワークを介して受信する受信部と、受信された符号化データをバ

ッファするメモリと、符号化データをパケット処理して符号化ビットストリームを生成し

、画像復号化装置に提供するパケット処理部とを含む。
</base:Paragraphs>
      <base:Paragraphs num="0111">
  また、画像復号化装置で復号化された画像を表示する表示部を構成に追加することで、

表示装置とすることも可能である。その場合、表示部は、復号画像信号重畳部２０５によ

り生成され、復号画像メモリ２０６に格納された復号画像信号を読み出して画面に表示す

る。
</base:Paragraphs>
      <base:Paragraphs num="0112">
  また、撮像部を構成に追加し、撮像した画像を画像符号化装置に入力することで、撮像

装置とすることも可能である。その場合、撮像部は、撮像した画像信号をブロック分割部

１０１に入力する。
</base:Paragraphs>
      <base:Paragraphs num="0113">
  以上の符号化及び復号化に関する処理は、ハードウェアを用いた伝送、蓄積、受信装置

として実現することができるのは勿論のこと、ＲＯＭ（リード・オンリ・メモリ）やフラ

ッシュメモリ等に記憶されているファームウェアや、コンピュータ等のソフトウェアによ

っても実現することができる。そのファームウェアプログラム、ソフトウェアプログラム

をコンピュータ等で読み取り可能な記録媒体に記録して提供することも、有線あるいは無

線のネットワークを通してサーバから提供することも、地上波あるいは衛星ディジタル放

送のデータ放送として提供することも可能である。
</base:Paragraphs>
      <base:Paragraphs num="0114">
  以上、本発明を実施の形態をもとに説明した。実施の形態は例示であり、それらの各構

成要素や各処理プロセスの組合せにいろいろな変形例が可能なこと、またそうした変形例

も本発明の範囲にあることは当業者に理解されるところである。
</base:Paragraphs>
    </business:EmbodimentsDescription>
    <business:ReferenceSignsList>
      <base:Paragraphs num="0115">
  １００  画像符号化装置、  １０１  ブロック分割部、  １０２  予測画像生成部、

１０３  残差信号生成部、  １０４  直交変換・量子化部、  １０５  符号化ビット列生

成部、  １０６  逆量子化・逆直交変換部、  １０７  復号画像信号重畳部、  １０８

復号画像メモリ、  ２００  画像復号化装置、  ２０１  ビット列復号部、  ２０２  ブ

ロック分割部、  ２０３  逆量子化・逆直交変換部、  ２０４  予測画像生成部、  ２０

５  復号画像信号重畳部、  ２０６  復号画像メモリ。
</base:Paragraphs>
    </business:ReferenceSignsList>
  </business:Description>
  <business:Drawings lang="ja" sourceDB="JP">
    <base:Figure num="0001">
      <base:Image id="000002" he="120" wi="84" file="2020092456_000002.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0002">
      <base:Image id="000003" he="113" wi="84" file="2020092456_000003.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0003">
      <base:Image id="000004" he="122" wi="83" file="2020092456_000004.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0004">
      <base:Image id="000005" he="92" wi="84" file="2020092456_000005.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0005">
      <base:Image id="000006" he="37" wi="84" file="2020092456_000006.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0006">
      <base:Image id="000007" he="29" wi="84" file="2020092456_000007.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0007">
      <base:Image id="000008" he="28" wi="84" file="2020092456_000008.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0008">
      <base:Image id="000009" he="29" wi="84" file="2020092456_000009.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0009">
      <base:Image id="000010" he="110" wi="84" file="2020092456_000010.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0010">
      <base:Image id="000011" he="95" wi="84" file="2020092456_000011.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0011">
      <base:Image id="000012" he="71" wi="84" file="2020092456_000012.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0012">
      <base:Image id="000013" he="95" wi="84" file="2020092456_000013.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0013">
      <base:Image id="000014" he="73" wi="84" file="2020092456_000014.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0014">
      <base:Image id="000015" he="20" wi="84" file="2020092456_000015.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0015">
      <base:Image id="000016" he="108" wi="84" file="2020092456_000016.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0016">
      <base:Image id="000017" he="100" wi="84" file="2020092456_000017.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0017">
      <base:Image id="000018" he="123" wi="81" file="2020092456_000018.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0018">
      <base:Image id="000019" he="40" wi="84" file="2020092456_000019.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0019">
      <base:Image id="000020" he="70" wi="84" file="2020092456_000020.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0020">
      <base:Image id="000021" he="35" wi="84" file="2020092456_000021.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0021">
      <base:Image id="000022" he="35" wi="84" file="2020092456_000022.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0022">
      <base:Image id="000023" he="24" wi="84" file="2020092456_000023.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0023">
      <base:Image id="000024" he="27" wi="84" file="2020092456_000024.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0024">
      <base:Image id="000025" he="71" wi="84" file="2020092456_000025.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
  </business:Drawings>
  <business:Claims lang="ja" dataFormat="original" sourceDB="JP">
    <business:Claim num="0001">
      <business:ClaimText>
  画像をブロックに分割し、分割されたブロック単位で符号化を行う画像符号化装置であ

って、

  前記画像のプライマリ信号を所定サイズの矩形に分割してプライマリ信号ブロックを生

成するプライマリ信号ブロック分割部と、

  前記画像のセカンダリ信号を所定サイズの矩形に分割してセカンダリ信号ブロックを生

成するセカンダリ信号ブロック分割部と、

  プライマリ信号を予測するプライマリ信号予測部と、

  セカンダリ信号を予測するセカンダリ信号予測部とを含み、

  前記プライマリ信号ブロックと前記セカンダリ信号ブロックは、それぞれ独立して分割

され、

  前記プライマリ信号は輝度信号、前記セカンダリ信号は色差信号であり、

  前記セカンダリ信号予測部は、符号化されたプライマリ信号からセカンダリ信号を予測

するコンポーネント間予測が可能であり、前記プライマリ信号ブロックのサイズが所定サ

イズ以上の場合、前記コンポーネント間予測の使用を禁止する、

  ことを特徴とする画像符号化装置。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0002">
      <business:ClaimText>
  画像をブロックに分割し、分割されたブロック単位で符号化を行う画像符号化方法であ

って、

  前記画像のプライマリ信号を所定サイズの矩形に分割してプライマリ信号ブロックを生

成するプライマリ信号ブロック分割ステップと、

  前記画像のセカンダリ信号を所定サイズの矩形に分割してセカンダリ信号ブロックを生

成するセカンダリ信号ブロック分割ステップと、

  プライマリ信号を予測するプライマリ信号予測ステップと、

  セカンダリ信号を予測するセカンダリ信号予測ステップとを含み、

  前記プライマリ信号ブロックと前記セカンダリ信号ブロックは、それぞれ独立して分割

され、

  前記プライマリ信号は輝度信号、前記セカンダリ信号は色差信号であり、

  前記セカンダリ信号予測ステップは、符号化されたプライマリ信号からセカンダリ信号

を予測するコンポーネント間予測が可能であり、前記プライマリ信号ブロックのサイズが

所定サイズ以上の場合、前記コンポーネント間予測の使用を禁止する、

  ことを特徴とする画像符号化方法。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0003">
      <business:ClaimText>
  画像をブロックに分割し、分割されたブロック単位で符号化を行う画像符号化プログラ

ムであって、

  前記画像のプライマリ信号を所定サイズの矩形に分割してプライマリ信号ブロックを生

成するプライマリ信号ブロック分割ステップと、

  前記画像のセカンダリ信号を所定サイズの矩形に分割してセカンダリ信号ブロックを生

成するセカンダリ信号ブロック分割ステップと、

  プライマリ信号を予測するプライマリ信号予測ステップと、

  セカンダリ信号を予測するセカンダリ信号予測ステップとをコンピュータに実行させ、

  前記プライマリ信号ブロックと前記セカンダリ信号ブロックは、それぞれ独立して分割

され、

  前記プライマリ信号は輝度信号、前記セカンダリ信号は色差信号であり、

  前記セカンダリ信号予測ステップは、符号化されたプライマリ信号からセカンダリ信号

を予測するコンポーネント間予測が可能であり、前記プライマリ信号ブロックのサイズが

所定サイズ以上の場合、前記コンポーネント間予測の使用を禁止する、

  ことを特徴とする画像符号化プログラム。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0004">
      <business:ClaimText>
  画像を分割したブロック単位で復号化を行う画像復号化装置であって、

  前記画像のプライマリ信号を所定サイズの矩形に分割してプライマリ信号ブロックを生

成するプライマリ信号ブロック分割部と、

  前記画像のセカンダリ信号を所定サイズの矩形に分割してセカンダリ信号ブロックを生

成するセカンダリ信号ブロック分割部と、

  プライマリ信号を予測するプライマリ信号予測部と、

  セカンダリ信号を予測するセカンダリ信号予測部とを含み、

  前記プライマリ信号ブロックと前記セカンダリ信号ブロックは、それぞれ独立して分割

され、

  前記プライマリ信号は輝度信号、前記セカンダリ信号は色差信号であり、

  前記セカンダリ信号予測部は、復号化されたプライマリ信号からセカンダリ信号を予測

するコンポーネント間予測が可能であり、前記プライマリ信号ブロックのサイズが所定サ

イズ以上の場合、前記コンポーネント間予測の使用を禁止する、

  ことを特徴とする画像復号化装置。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0005">
      <business:ClaimText>
  画像を分割したブロック単位で復号化を行う画像復号化方法であって、

  前記画像のプライマリ信号を所定サイズの矩形に分割してプライマリ信号ブロックを生

成するプライマリ信号ブロック分割ステップと、

  前記画像のセカンダリ信号を所定サイズの矩形に分割してセカンダリ信号ブロックを生

成するセカンダリ信号ブロック分割ステップと、

  プライマリ信号を予測するプライマリ信号予測ステップと、

  セカンダリ信号を予測するセカンダリ信号予測ステップとを含み、

  前記プライマリ信号ブロックと前記セカンダリ信号ブロックは、それぞれ独立して分割

され、

  前記プライマリ信号は輝度信号、前記セカンダリ信号は色差信号であり、

  前記セカンダリ信号予測ステップは、復号化されたプライマリ信号からセカンダリ信号

を予測するコンポーネント間予測が可能であり、前記プライマリ信号ブロックのサイズが

所定サイズ以上の場合、前記コンポーネント間予測の使用を禁止する、

  ことを特徴とする画像復号化方法。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0006">
      <business:ClaimText>
  画像を分割したブロック単位で復号化を行う画像復号化プログラムであって、

  前記画像のプライマリ信号を所定サイズの矩形に分割してプライマリ信号ブロックを生

成するプライマリ信号ブロック分割ステップと、

  前記画像のセカンダリ信号を所定サイズの矩形に分割してセカンダリ信号ブロックを生

成するセカンダリ信号ブロック分割ステップと、

  プライマリ信号を予測するプライマリ信号予測ステップと、

  セカンダリ信号を予測するセカンダリ信号予測ステップとをコンピュータに実行させ、

  前記プライマリ信号ブロックと前記セカンダリ信号ブロックは、それぞれ独立して分割

され、

  前記プライマリ信号は輝度信号、前記セカンダリ信号は色差信号であり、

  前記セカンダリ信号予測ステップは、復号化されたプライマリ信号からセカンダリ信号

を予測するコンポーネント間予測が可能であり、前記プライマリ信号ブロックのサイズが

所定サイズ以上の場合、前記コンポーネント間予測の使用を禁止する、

  ことを特徴とする画像復号化プログラム。
</business:ClaimText>
    </business:Claim>
  </business:Claims>
</business:PatentDocumentAndRelated>