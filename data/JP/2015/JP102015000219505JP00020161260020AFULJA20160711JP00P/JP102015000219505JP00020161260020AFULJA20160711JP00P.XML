<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE business:PatentDocumentAndRelated SYSTEM "/DTDS/ExternalStandards/ipphdb-entities.dtd"[]>
<business:PatentDocumentAndRelated xmlns:base="http://www.sipo.gov.cn/XMLSchema/base" xmlns:business="http://www.sipo.gov.cn/XMLSchema/business" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:tbl="http://oasis-open.org/specs/soextblx" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.sipo.gov.cn/XMLSchema/business /DTDS/PatentDocument/Elements/OtherElements.xsd" xsdVersion="V2.2.1" file="JP102015000219505JP00020161260020AFULJA20160711JP00P.XML" dateProduced="20160812" status="C" lang="ja" country="JP" docNumber="2016126002" kind="A" datePublication="20160711">
  <business:BibliographicData lang="ja" country="JP">
    <business:PublicationReference dataFormat="standard" sequence="1">
      <base:DocumentID>
        <base:WIPOST3Code>JP</base:WIPOST3Code>
        <base:DocNumber>2016126002</base:DocNumber>
        <base:Kind>A</base:Kind>
        <base:Date>20160711</base:Date>
      </base:DocumentID>
    </business:PublicationReference>
    <business:PublicationReference dataFormat="original" sourceDB="JP" sequence="1">
      <base:DocumentID>
        <base:WIPOST3Code>JP</base:WIPOST3Code>
        <base:DocNumber>2016126002</base:DocNumber>
        <base:Kind>A</base:Kind>
        <base:Date>20160711</base:Date>
      </base:DocumentID>
    </business:PublicationReference>
    <business:PlainLanguageDesignation lang="ja">公開特許公報(A)</business:PlainLanguageDesignation>
    <business:ApplicationReference applType="10" dataFormat="standard" sequence="1">
      <base:DocumentID>
        <base:WIPOST3Code>JP</base:WIPOST3Code>
        <base:DocNumber>102015000219505</base:DocNumber>
        <base:Date>20151109</base:Date>
      </base:DocumentID>
    </business:ApplicationReference>
    <business:ApplicationReference applType="10" dataFormat="original" sequence="1" sourceDB="JP">
      <base:DocumentID>
        <base:WIPOST3Code>JP</base:WIPOST3Code>
        <base:DocNumber>2015219505</base:DocNumber>
        <base:Date>20151109</base:Date>
      </base:DocumentID>
    </business:ApplicationReference>
    <business:PriorityDetails>
      <business:Priority kind="international" dataFormat="standard" sequence="1">
        <base:WIPOST3Code>KR</base:WIPOST3Code>
        <base:DocNumber>102014000191020</base:DocNumber>
        <base:Date>20141226</base:Date>
      </business:Priority>
      <business:Priority kind="international" dataFormat="original" sourceDB="JP" sequence="1">
        <base:WIPOST3Code>KR</base:WIPOST3Code>
        <base:DocNumber>10-2014-0191020</base:DocNumber>
        <base:Date>20141226</base:Date>
      </business:Priority>
    </business:PriorityDetails>
    <business:ClassificationIPCRDetails>
      <business:ClassificationIPCR sequence="1">
        <business:IPCVersionDate>20060101</business:IPCVersionDate>
        <business:ClassificationLevel>A</business:ClassificationLevel>
        <business:Section>G</business:Section>
        <business:MainClass>01</business:MainClass>
        <business:Subclass>S</business:Subclass>
        <business:MainGroup>5</business:MainGroup>
        <business:Subgroup>12</business:Subgroup>
        <business:SymbolPosition>F</business:SymbolPosition>
        <business:ClassificationValue>I</business:ClassificationValue>
        <base:ActionDate>
          <base:Date>20160613</base:Date>
        </base:ActionDate>
        <business:GeneratingOffice>
          <base:WIPOST3Code>JP</base:WIPOST3Code>
        </business:GeneratingOffice>
        <business:ClassificationStatus>B</business:ClassificationStatus>
        <business:ClassificationDataSource>H</business:ClassificationDataSource>
        <base:Text>G01S   5/12        20060101AFI20160613BHJP        </base:Text>
      </business:ClassificationIPCR>
      <business:ClassificationIPCR sequence="2">
        <business:IPCVersionDate>20090101</business:IPCVersionDate>
        <business:ClassificationLevel>A</business:ClassificationLevel>
        <business:Section>H</business:Section>
        <business:MainClass>04</business:MainClass>
        <business:Subclass>W</business:Subclass>
        <business:MainGroup>64</business:MainGroup>
        <business:Subgroup>00</business:Subgroup>
        <business:SymbolPosition>L</business:SymbolPosition>
        <business:ClassificationValue>I</business:ClassificationValue>
        <base:ActionDate>
          <base:Date>20160613</base:Date>
        </base:ActionDate>
        <business:GeneratingOffice>
          <base:WIPOST3Code>JP</base:WIPOST3Code>
        </business:GeneratingOffice>
        <business:ClassificationStatus>B</business:ClassificationStatus>
        <business:ClassificationDataSource>H</business:ClassificationDataSource>
        <base:Text>H04W  64/00        20090101ALI20160613BHJP        </base:Text>
      </business:ClassificationIPCR>
      <business:ClassificationIPCR sequence="3">
        <business:IPCVersionDate>20090101</business:IPCVersionDate>
        <business:ClassificationLevel>A</business:ClassificationLevel>
        <business:Section>H</business:Section>
        <business:MainClass>04</business:MainClass>
        <business:Subclass>W</business:Subclass>
        <business:MainGroup>4</business:MainGroup>
        <business:Subgroup>02</business:Subgroup>
        <business:SymbolPosition>L</business:SymbolPosition>
        <business:ClassificationValue>I</business:ClassificationValue>
        <base:ActionDate>
          <base:Date>20160613</base:Date>
        </base:ActionDate>
        <business:GeneratingOffice>
          <base:WIPOST3Code>JP</base:WIPOST3Code>
        </business:GeneratingOffice>
        <business:ClassificationStatus>B</business:ClassificationStatus>
        <business:ClassificationDataSource>H</business:ClassificationDataSource>
        <base:Text>H04W   4/02        20090101ALI20160613BHJP        </base:Text>
      </business:ClassificationIPCR>
    </business:ClassificationIPCRDetails>
    <business:JPClassification>
      <business:FI type="main">G01S5/12</business:FI>
      <business:FI type="secondary">H04W64/00 110</business:FI>
      <business:FI type="secondary">H04W4/02 150</business:FI>
      <business:FClass>
        <business:FTerm>5J062CC18</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5K067BB37</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5K067DD44</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5K067FF16</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:FTerm>5K067JJ54</business:FTerm>
      </business:FClass>
      <business:FClass>
        <business:Theme>5J062</business:Theme>
      </business:FClass>
      <business:FClass>
        <business:Theme>5K067</business:Theme>
      </business:FClass>
    </business:JPClassification>
    <business:InventionTitle lang="ja" dataFormat="original" sourceDB="JP">ビーコンを利用した無線測位サービス方法および装置</business:InventionTitle>
    <business:Parties>
      <business:ApplicantDetails>
        <business:Applicant sequence="1" dataFormat="original" sourceDB="JP">
          <base:AddressBook lang="ja">
            <base:Name>ネイバー  ビジネス  プラットフォーム  コーポレーション</base:Name>
            <base:RegisteredNumber>509288208</base:RegisteredNumber>
            <base:Address>
              <base:AddressLine>0</base:AddressLine>
              <base:AddressMailCode>0</base:AddressMailCode>
              <base:PostBox>0</base:PostBox>
              <base:AddressRoom>0</base:AddressRoom>
              <base:AddressFloor>0</base:AddressFloor>
              <base:AddressBuilding>0</base:AddressBuilding>
              <base:Street>0</base:Street>
              <base:AddressCity>0</base:AddressCity>
              <base:County>0</base:County>
              <base:City>0</base:City>
              <base:Province>0</base:Province>
              <base:PostCode>0</base:PostCode>
              <base:WIPOST3Code>XP</base:WIPOST3Code>
              <base:Text>大韓民国，キョンギ－ド，ソンナム－シ，ブンダン－グ，ブルジョン－ロ，６，１３階（チョンチャ－ドン，グリーンファクトリー）</base:Text>
            </base:Address>
          </base:AddressBook>
          <base:AddressBook lang="en">
            <base:Address>
              <base:AddressLine>0</base:AddressLine>
              <base:AddressMailCode>0</base:AddressMailCode>
              <base:PostBox>0</base:PostBox>
              <base:AddressRoom>0</base:AddressRoom>
              <base:AddressFloor>0</base:AddressFloor>
              <base:AddressBuilding>0</base:AddressBuilding>
              <base:Street>0</base:Street>
              <base:AddressCity>0</base:AddressCity>
              <base:County>0</base:County>
              <base:City>0</base:City>
              <base:Province>0</base:Province>
              <base:PostCode>0</base:PostCode>
              <base:WIPOST3Code>XP</base:WIPOST3Code>
              <base:Text>（Ｊｅｏｎｇｉａ－ｄｏｎｇ，Ｇｒｅｅｎ  Ｆａｃｔｏｒｙ），１３ｔｈ  Ｆｌ．，  ６，  Ｂｕｌｊｅｏｎｇ－ｒｏ，Ｂｕｎｄａｎｇ－ｇｕ，Ｓｅｏｎｇｎａｍ－ｓｉ，Ｇｙｅｏｎｇｇｉ－ｄｏ  Ｒｅｐｕｂｌｉｃ  ｏｆ  Ｋｏｒｅａ</base:Text>
            </base:Address>
          </base:AddressBook>
          <business:OrganizationCode createDate="00000000" creator="00">0000000000</business:OrganizationCode>
        </business:Applicant>
      </business:ApplicantDetails>
      <business:InventorDetails>
        <business:Inventor sequence="1" dataFormat="original" sourceDB="JP">
          <base:AddressBook lang="ja">
            <base:Name>朴  元  紀</base:Name>
            <base:Address>
              <base:AddressLine>0</base:AddressLine>
              <base:AddressMailCode>0</base:AddressMailCode>
              <base:PostBox>0</base:PostBox>
              <base:AddressRoom>0</base:AddressRoom>
              <base:AddressFloor>0</base:AddressFloor>
              <base:AddressBuilding>0</base:AddressBuilding>
              <base:Street>0</base:Street>
              <base:AddressCity>0</base:AddressCity>
              <base:County>0</base:County>
              <base:City>0</base:City>
              <base:Province>0</base:Province>
              <base:PostCode>0</base:PostCode>
              <base:WIPOST3Code>XP</base:WIPOST3Code>
              <base:Text>大韓民国  １３５６１  キョンギ－ド  ソンナム－シ  ブンダン－グ  ブルジョン－ロ  ６  グリーンファクトリー内</base:Text>
            </base:Address>
          </base:AddressBook>
        </business:Inventor>
        <business:Inventor sequence="2" dataFormat="original" sourceDB="JP">
          <base:AddressBook lang="ja">
            <base:Name>李  鎬  辰</base:Name>
            <base:Address>
              <base:AddressLine>0</base:AddressLine>
              <base:AddressMailCode>0</base:AddressMailCode>
              <base:PostBox>0</base:PostBox>
              <base:AddressRoom>0</base:AddressRoom>
              <base:AddressFloor>0</base:AddressFloor>
              <base:AddressBuilding>0</base:AddressBuilding>
              <base:Street>0</base:Street>
              <base:AddressCity>0</base:AddressCity>
              <base:County>0</base:County>
              <base:City>0</base:City>
              <base:Province>0</base:Province>
              <base:PostCode>0</base:PostCode>
              <base:WIPOST3Code>XP</base:WIPOST3Code>
              <base:Text>大韓民国  １３５６１  キョンギ－ド  ソンナム－シ  ブンダン－グ  ブルジョン－ロ  ６  グリーンファクトリー内</base:Text>
            </base:Address>
          </base:AddressBook>
        </business:Inventor>
        <business:Inventor sequence="3" dataFormat="original" sourceDB="JP">
          <base:AddressBook lang="ja">
            <base:Name>林  享  燮</base:Name>
            <base:Address>
              <base:AddressLine>0</base:AddressLine>
              <base:AddressMailCode>0</base:AddressMailCode>
              <base:PostBox>0</base:PostBox>
              <base:AddressRoom>0</base:AddressRoom>
              <base:AddressFloor>0</base:AddressFloor>
              <base:AddressBuilding>0</base:AddressBuilding>
              <base:Street>0</base:Street>
              <base:AddressCity>0</base:AddressCity>
              <base:County>0</base:County>
              <base:City>0</base:City>
              <base:Province>0</base:Province>
              <base:PostCode>0</base:PostCode>
              <base:WIPOST3Code>XP</base:WIPOST3Code>
              <base:Text>大韓民国  １３５６１  キョンギ－ド  ソンナム－シ  ブンダン－グ  ブルジョン－ロ  ６  グリーンファクトリー内</base:Text>
            </base:Address>
          </base:AddressBook>
        </business:Inventor>
        <business:Inventor sequence="4" dataFormat="original" sourceDB="JP">
          <base:AddressBook lang="ja">
            <base:Name>金  大  熊</base:Name>
            <base:Address>
              <base:AddressLine>0</base:AddressLine>
              <base:AddressMailCode>0</base:AddressMailCode>
              <base:PostBox>0</base:PostBox>
              <base:AddressRoom>0</base:AddressRoom>
              <base:AddressFloor>0</base:AddressFloor>
              <base:AddressBuilding>0</base:AddressBuilding>
              <base:Street>0</base:Street>
              <base:AddressCity>0</base:AddressCity>
              <base:County>0</base:County>
              <base:City>0</base:City>
              <base:Province>0</base:Province>
              <base:PostCode>0</base:PostCode>
              <base:WIPOST3Code>XP</base:WIPOST3Code>
              <base:Text>大韓民国  １３５６１  キョンギ－ド  ソンナム－シ  ブンダン－グ  ブルジョン－ロ  ６  グリーンファクトリー内</base:Text>
            </base:Address>
          </base:AddressBook>
        </business:Inventor>
      </business:InventorDetails>
      <business:AgentDetails>
        <business:CustomerNumber>00000</business:CustomerNumber>
        <business:Agent sequence="1" dataFormat="original" sourceDB="JP" repType="agent">
          <base:AddressBook lang="ja">
            <base:Name>伊東  忠重</base:Name>
            <base:RegisteredNumber>100107766</base:RegisteredNumber>
          </base:AddressBook>
        </business:Agent>
        <business:Agent sequence="2" dataFormat="original" sourceDB="JP" repType="agent">
          <base:AddressBook lang="ja">
            <base:Name>伊東  忠彦</base:Name>
            <base:RegisteredNumber>100070150</base:RegisteredNumber>
          </base:AddressBook>
        </business:Agent>
        <business:Agent sequence="3" dataFormat="original" sourceDB="JP" repType="agent">
          <base:AddressBook lang="ja">
            <base:Name>大貫  進介</base:Name>
            <base:RegisteredNumber>100091214</base:RegisteredNumber>
          </base:AddressBook>
        </business:Agent>
      </business:AgentDetails>
    </business:Parties>
    <business:SpecificBibliographicData>
      <business:OriginalKindCode>A</business:OriginalKindCode>
    </business:SpecificBibliographicData>
    <business:StatisticalInformation>
      <business:ClaimsCount>16</business:ClaimsCount>
      <base:TotalPageCount>17</base:TotalPageCount>
    </business:StatisticalInformation>
  </business:BibliographicData>
  <business:Abstract dataFormat="original" lang="ja" sourceDB="JP">
    <base:Paragraphs>【課題】  ビーコン信号を利用した無線測位サービス方法および装置を開示する。【解決手段】  無線測位サービス方法は、ユーザ周辺に位置するビーコン送信機からビーコン信号を収集する段階、および前記ビーコン送信機が配置された空間の間に位置する仮想ポイントおよび前記ビーコン信号のうち少なくとも１つを利用してユーザの現在位置を決める段階を含んでもよい。【選択図】      図５</base:Paragraphs>
    <business:AbstractFigure>
      <base:Figure num="0001">
        <base:Image id="000002" he="71" wi="69" file="2016126002_000002.TIF" imgFormat="TIFF" imgContent="drawing" />
      </base:Figure>
    </business:AbstractFigure>
  </business:Abstract>
  <business:Description dataFormat="original" sourceDB="JP">
    <business:TechnicalField>
      <base:Paragraphs num="0001">
本発明の実施形態は、ビーコンを利用してユーザの現在位置を決め、ユーザの現在位置に基づいた位置基盤サービスを提供する技術に関する。
</base:Paragraphs>
    </business:TechnicalField>
    <business:BackgroundArt>
      <base:Paragraphs num="0002">
  無線測位サービスとは、ユーザの現在位置に基づいた位置基盤サービス（ＬＢＳ：Ｌｏｃａｔｉｏｎ－Ｂａｓｅｄ  Ｓｅｒｖｉｃｅｓ）を提供するためにユーザの位置を測定する技術である。位置基盤サービスとは、ＧＰＳやＷｉ－Ｆｉ（Ｗｉｒｅｌｅｓｓ  Ｆｉｄｅｌｉｔｙ）などを利用し、建物内部に位置するスマートフォン、ＰＤＡ、タブレットＰＣなどの位置に基づいて室内地図などのサービスを提供するものである。
</base:Paragraphs>
      <base:Paragraphs num="0003">
  しかし、ＧＰＳやＷｉ－Ｆｉの場合には、建物内部で測定される端末位置の誤差が大きく、適切な位置基盤サービスを提供するには困難がある。
</base:Paragraphs>
      <base:Paragraphs num="0004">
  ブルートゥース（登録商標（Ｂｌｕｅｔｏｏｔｈ））を利用してユーザの位置を測定することもできるが、ブルートゥースではあってもバッテリの消耗は無視できず、初期インストール費用も負担となる。
</base:Paragraphs>
      <base:Paragraphs num="0005">
  ビーコン送信機を利用してユーザの位置を測定することもできるが、ビーコン送信機の配置間隔によっては、ユーザの位置測定が困難になる場合が発生する。例えば、ビーコン送信機が建物内部で狭い間隔に隙間なく配置されている場合には、費用が増加するだけでなく、ビーコン信号が重畳して干渉を引き起こすため、ユーザの位置を正確に測定することが難しい。さらに、ビーコン送信機の間隔が広いとか、あるいはユーザがビーコン送信機の両側となる中間地点の空間に位置する場合には、ユーザの位置の把握が困難になることがある。
</base:Paragraphs>
      <base:Paragraphs num="0006">
  したがって、移動端末のバッテリ消耗を減少させる上に、精巧にユーザの位置を測定して位置基盤サービスを提供する技術が求められている。
</base:Paragraphs>
    </business:BackgroundArt>
    <business:InventionSummary>
      <business:TechnicalProblem>
        <base:Paragraphs num="0007">
  本発明は、ビーコン送信機間に配置された仮想ポイントおよびビーコン送信機から受信したビーコン信号を利用してユーザの位置をより精巧に測定する、無線測位サービス方法および装置を提供する。
</base:Paragraphs>
      </business:TechnicalProblem>
      <business:TechnicalSolution>
        <base:Paragraphs num="0008">
  本発明の一実施形態において、無線測位サービス方法は、ユーザ周辺に位置するビーコン送信機からビーコン信号を収集する段階、および前記ビーコン送信機が配置された空間の間に位置する仮想ポイントおよび前記ビーコン信号のうち少なくとも１つを利用してユーザの現在位置を決める段階を含んでもよい。
</base:Paragraphs>
        <base:Paragraphs num="0009">
  一実施形態によると、前記仮想ポイントは、前記ユーザが位置する建物内部に予め設定された一定の間隔に配置されたビーコン送信機の間に位置する空間のうち、前記建物内部に形成された通路の角および交差路のうち少なくとも１つに仮想配置されてもよい。
</base:Paragraphs>
        <base:Paragraphs num="0010">
  他の実施形態によると、前記ユーザの現在位置を決める段階は、前記ビーコン送信機から収集されたビーコン信号の強度に基づいて候補ビーコン信号を決める段階、前記候補ビーコン信号の信号強度の差値に基づいて前記ユーザの現在位置が仮想ポイントに該当するかを決める段階、および前記ユーザの現在位置が前記仮想ポイントに該当することにより、前記仮想ポイントに該当する位置座標を前記ユーザの現在位置として決める段階を含んでもよい。
</base:Paragraphs>
        <base:Paragraphs num="0011">
  さらに他の実施形態によると、前記ユーザの現在位置に基づいた位置基盤サービスを提供する段階をさらに含んでもよい。
</base:Paragraphs>
        <base:Paragraphs num="0012">
  さらに他の実施形態によると、前記ユーザが所持する移動端末に備えられたジャイロセンサに基づいてユーザの方向転換が感知されることにより、方向転換による移動経路を室内地図にディスプレイする段階をさらに含んでもよい。
</base:Paragraphs>
        <base:Paragraphs num="0013">
  さらに他の実施形態によると、前記ビーコン信号を収集する段階および前記ユーザの現在位置を決める段階を実行させるためのアプリケーションを実行させる段階をさらに含んでもよい。
</base:Paragraphs>
        <base:Paragraphs num="0014">
  本発明の一実施形態において、無線測位サービス装置は、ユーザ周辺に位置するビーコン送信機からビーコン信号を収集する信号収集部、および前記ビーコン送信機が配置された空間の間に位置する仮想ポイントおよび前記ビーコン信号のうち少なくとも１つを利用してユーザの現在位置を決める位置決定部を備えてもよい。
</base:Paragraphs>
        <base:Paragraphs num="0015">
  本発明の一実施形態において、ユーザの移動端末にユーザの現在位置に基づいた位置基盤サービスを提供するアプリケーションは、ユーザ周辺に位置するビーコン送信機からビーコン信号を収集する段階、および前記ビーコン送信機が配置された空間の間に位置する仮想ポイントおよび前記ビーコン信号のうち少なくとも１つを利用してユーザの現在位置を決める段階を実行させてもよい。
</base:Paragraphs>
        <base:Paragraphs num="0016">
  本発明の他の実施形態において、無線測位サービス装置は、ユーザの移動端末にインストールされたアプリケーションを利用し、ユーザ周辺に位置するビーコン送信機それぞれから収集されたビーコン信号を受信する情報受信部、前記ビーコン送信機が配置された空間の間に位置する仮想ポイントおよび前記ビーコン信号のうち少なくとも１つを利用してユーザの現在位置を決める位置決定部、および決められたユーザの現在位置に基づいた位置基盤サービスを前記移動端末に提供するサービス提供部を備えてもよい。
</base:Paragraphs>
      </business:TechnicalSolution>
      <business:AdvantageousEffects>
        <base:Paragraphs num="0017">
  本発明によると、ビーコン送信機の間に配置された仮想ポイントおよびビーコン送信機から受信されたビーコン信号を利用し、ユーザの位置をより精巧に測定することができる。
</base:Paragraphs>
      </business:AdvantageousEffects>
    </business:InventionSummary>
    <business:DrawingsDescription>
      <base:Paragraphs num="0018">
        <base:FigureReference num="0001">本発明の一実施形態において、無線測位サービス装置とビーコン送信機を示した図である。</base:FigureReference>
        <base:FigureReference num="0002">本発明の一実施形態において、ビーコン送信機から受信するビーコン信号のパケット構造を示した図である。</base:FigureReference>
        <base:FigureReference num="0003">本発明の一実施形態において、ＢＬＥ（Ｂｌｕｅｔｏｏｔｈ  Ｌｏｗ  Ｅｎｅｒｇｙ）基盤の無線測位サービスを提供するために建物内部に配置されたビーコン送信機および仮想ポイントを示した例示図である。</base:FigureReference>
        <base:FigureReference num="0004">本発明の一実施形態において、無線測位サービス装置の内部構成を示したブロック図である。</base:FigureReference>
        <base:FigureReference num="0005">本発明の一実施形態において、無線測位サービス方法を示したフローチャートである。</base:FigureReference>
        <base:FigureReference num="0006">本発明の一実施形態において、基準差値１および２を利用してユーザの現在位置を決める詳細動作を示したフローチャートである。</base:FigureReference>
        <base:FigureReference num="0007">本発明の一実施形態において、ビーコン送信機を利用してユーザの現在位置を決める例示図である。</base:FigureReference>
        <base:FigureReference num="0008">本発明の一実施形態において、ビーコン送信機を利用してユーザの現在位置を決める例示図である。</base:FigureReference>
        <base:FigureReference num="0009">本発明の一実施形態において、仮想ポイントを利用してユーザの現在位置を決める例示図である。</base:FigureReference>
        <base:FigureReference num="0010">本発明の一実施形態において、ジャイロセンサを利用してユーザの詳細な移動経路を提供する動作を説明するために提供される例示図である。</base:FigureReference>
        <base:FigureReference num="0011">本発明の一実施形態において、位置基盤サービス提供方法の実行環境の例を示した図である。</base:FigureReference>
        <base:FigureReference num="0012">本発明の他の実施形態において、無線測位サービス装置の詳細構成を示したブロック図である。</base:FigureReference>
      </base:Paragraphs>
    </business:DrawingsDescription>
    <business:EmbodimentsDescription>
      <base:Paragraphs num="0019">
  以下、本発明の実施形態について、添付の図面を参照しながら詳細に説明する。
</base:Paragraphs>
      <base:Paragraphs num="0020">
  本実施形態は、ＢＬＥ基盤のビーコン信号を利用して位置基盤サービスを提供するスマートフォンやタブレットＰＣなどの移動端末に適用することができる。例えば、Ａｎｄｒｏｉｄ  ＡＰＩ  ４．３以上、ＩＯＳ  ７以上、Ｂｌｕｅｔｏｏｔｈ  ４．０以上が搭載された移動端末で利用することができる。Ａｎｄｒｏｉｄ  ４．３未満の場合には、移動端末に搭載されたＢｌｕｅｔｏｏｔｈ  ３．０を利用してビーコンの使用が可能である。本実施形態では、ビーコンを利用して位置基盤サービスを提供することが説明されているが、これは一例に過ぎず、ビーコンの他にも、ビーコンと類似する性能を提供する通信モジュールが搭載された移動端末を利用して位置基盤サービスを提供することもできる。例えば、本発明の仮想ポイントを利用して位置基盤サービスを適用する技術は、ビーコンの他にも、すべての低電力・近距離通信モジュールに適用することができる。
</base:Paragraphs>
      <base:Paragraphs num="0021">
  図１は、本発明の一実施形態において、無線測位サービス装置とビーコン送信機を示した図である。
</base:Paragraphs>
      <base:Paragraphs num="0022">
  図１によると、複数のビーコン送信機１０１が配置されている。ここで、ビーコン送信機１０１は、モバイル決済サービスなどを提供するために建物内部に位置する商店に配置されてもよく、イベント、割引クーポン情報、建物内部の道案内などのために建物内部の通路の天井などに配置されてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0023">
  無線測位サービス装置１００は、建物内部を移動しながら、建物内部に配置されたビーコン送信機１０１からビーコン信号を受信してもよい。そして、無線測位サービス装置１００は、位置基盤サービスの提供を受けるために該当のアプリケーションを実行することにより、ユーザの現在位置を決め、決められた現在位置に基づいて建物内部の室内地図、道案内、イベント情報などの位置基盤サービスの提供を受けてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0024">
  例えば、無線測位サービス装置１００は、スマートフォンやタブレットＰＣなどが利用されてもよく、位置基盤サービスと関連するウェブ／モバイルサイトへの接続、またはサービス専用アプリケーションのインストールおよび実行が可能なすべての端末装置を意味する。このとき、無線測位サービス装置１００は、ウェブ／モバイルサイトまたは専用アプリケーションの制御下に、サービス画面の構成、データ入力、データ送受信、データ格納などのサービス全般の動作を実行してもよい。
</base:Paragraphs>
      <base:Paragraphs num="0025">
  図２は、本発明の一実施形態において、ビーコン送信機から受信されるビーコン信号のパケット構造を示した図である。
</base:Paragraphs>
      <base:Paragraphs num="0026">
  図２において、ビーコン信号のパケット構造は、低電力基盤であるブロードキャスト（ＢｒｏａｄＣａｓｔ）パケット構造を示しており、パケットは、１バイトのプリアンブル（ｐｒｅａｍｂｌｅ）、４バイトのアクセスアドレス（Ａｃｃｅｓｓ  Ａｄｄｒｅｓｓ）、２～３９バイトのプロトコルデータユニット（ＰＤＵ：Ｐｒｏｔｏｃｏｌ  Ｄａｔａ  Ｕｎｉｔ）、および３バイトのＣＲＣコードを含んでもよい。
</base:Paragraphs>
      <base:Paragraphs num="0027">
  プロトコルデータユニットは、２バイトのヘッダ（ｈｅａｄｅｒ）、６バイトのＭＡＣアドレス（ＭＡＣ  Ａｄｄｒｅｓｓ）、および３１バイトのデータを含んでもよい。ここで、データは、ビーコン信号ごとに付与された固有の識別情報（Ｍａｊｏｒ、Ｍｉｎｏｒ）を含んでもよい。このように、ビーコン信号ごとに識別情報を含んでいるため、無線測位サービス装置は、複数のビーコン送信機から受信した各ビーコン信号を区分することができ、受信したビーコン信号がどのビーコン送信機に該当するかを把握することができる。
</base:Paragraphs>
      <base:Paragraphs num="0028">
  図３は、本発明の一実施形態において、無線測位サービスを提供するために建物内部に配置されたビーコン送信機および仮想ポイントが示された例示図である。
</base:Paragraphs>
      <base:Paragraphs num="0029">
  図３を参照すると、ビーコン送信機（Ｂ：ｂｅａｃｏｎ  ｔｒａｎｓｃｅｉｖｅｒ）は、建物内部の通路の角および交差路よりは、通路の中心部分に予め設定された一定の間隔で配置されている。
</base:Paragraphs>
      <base:Paragraphs num="0030">
  例えば、ビーコン送信機（Ｂ）は、天井から床に向かう方向に配置されてもよく、１０～１３ｍの間隔で一定に配置されてもよい。ビーコン信号は、設置方向に対して垂直に信号を放射し、方向性が存在するため、広場や建物内部のオープンな空間では、ビーコン送信機（Ｂ）が１０～１３ｍよりも広い間隔で配置されてもよい。言い換えれば、ビーコン送信機（Ｂ）は、建物の特性および大きさに応じて配置間隔を異なるように調節して一定に配置されてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0031">
  また、ビーコン送信機（Ｂ）の間には仮想ポイント（ＶＰ：Ｖｉｒｔｕａｌ  Ｐｏｉｎｔ）が配置されている。上述したように、ビーコン送信機が建物内部に狭い間隔に隙間なく配置されると信号が重畳し、適切な間隔で配置されるとユーザの位置が不正確になる場合が発生することがある。これにより、ビーコン送信機の間に仮想の空間である仮想ポイント（ＶＰ）を配置することにより、ビーコン送信機の配置台数を減らし、費用の節減および信号重畳による干渉を減少させるだけでなく、ビーコン送信機の中間部分にユーザが位置したときにも、ユーザの位置をより精巧に把握することができる。このとき、仮想ポイントは、ビーコン送信機の中間位置に該当する空間に配置されてもよく、ユーザの方向転換などをより精巧に把握するために、建物内部の通路の角や交差路などに配置されてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0032">
  以下では、図４および図５を参照しながら、ビーコン信号および仮想ポイントを利用してユーザの現在位置を決める動作について詳しく説明する。
</base:Paragraphs>
      <base:Paragraphs num="0033">
  図４は、本発明の一実施形態において、無線測位サービス装置の内部構成を示すブロック図であり、図５は、本発明の一実施形態において、無線測位サービス方法を示したフローチャートである。
</base:Paragraphs>
      <base:Paragraphs num="0034">
  本実施形態に係る無線測位サービス装置４００は、プロセッサ４１０、バス４２０、ネットワークインタフェース４３０、メモリ４４０、ジャイロセンサ４５０、および無線通信モジュール４６０を備えている。メモリ４４０は、運営体制４４１および無線測位サービス提供ルーチン４４２を備えている。プロセッサ４１０は、信号収集部４１１および位置決定部４１２を備えている。他の実施形態において、無線測位サービス装置４００は、図４の構成要素よりもさらに多くの構成要素を備えてもよい。例えば、無線測位サービス装置４００は、ディスプレイやトランシーバ（ｔｒａｎｓｃｅｉｖｅｒ）のような他の構成要素を備えてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0035">
  メモリ４４０は、コンピュータで読み取り可能な記録媒体であって、ＲＡＭ（ｒａｎｄｏｍ  ａｃｃｅｓｓ  ｍｅｍｏｒｙ）、ＲＯＭ（ｒｅａｄ  ｏｎｌｙ  ｍｅｍｏｒｙ）、およびディスクドライブのような永久大容量記録装置（ｐｅｒｍａｎｅｎｔ  ｍａｓｓ  ｓｔｏｒａｇｅ  ｄｅｖｉｃｅ）を含んでもよい。また、メモリ４４０には、運営体制４４１と無線測位サービス提供ルーチン４４２のためのプログラムコードが格納されてもよい。このようなソフトウェア構成要素は、ドライブメカニズム（ｄｒｉｖｅ  ｍｅｃｈａｎｉｓｍ）（図示せず）を利用してメモリ４４０とは別途のコンピュータで読み取り可能な記録媒体からローディングされてもよい。このような別途のコンピュータで読み取り可能な記録媒体は、フロッピドライブ、ディスク、テープ、ＤＶＤ／ＣＤ－ＲＯＭドライブ、メモリカードなどのコンピュータで読み取り可能な記録媒体（図示せず）を含んでもよい。他の実施形態において、ソフトウェア構成要素は、コンピュータで読み取り可能な記録媒体ではないネットワークインタフェース４３０を利用してメモリ４４０にローディングされてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0036">
  バス４２０は、無線測位サービス装置４００の構成要素間の通信およびデータ送信を可能にしてもよい。バス４２０は、高速シリアルバス（ｈｉｇｈ－ｓｐｅｅｄ  ｓｅｒｉａｌ  ｂｕｓ）、並列バス（ｐａｒａｌｌｅｌ  ｂｕｓ）、ＳＡＮ（Ｓｔｏｒａｇｅ  Ａｒｅａ  Ｎｅｔｗｏｒｋ）、および／または他の適切な通信技術を利用して構成されてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0037">
  ネットワークインタフェース４３０は、無線測位サービス装置４００をコンピュータネットワークに連結するためのコンピュータハードウェア構成要素であってもよい。ネットワークインタフェース４３０は、無線測位サービス装置４００を無線または有線コネクションを介してコンピュータネットワークに連結させてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0038">
  ジャイロセンサ４５０は、建物内部を移動するユーザの移動方向および方向転換の有無を感知してもよい。
</base:Paragraphs>
      <base:Paragraphs num="0039">
  無線通信モジュール４６０は、建物内部に位置する無線アクセスポイントおよびビーコン送信機との通信を実行し、ユーザの現在位置を決めるための情報を送受信するために利用されてもよい。例えば、無線通信モジュール４６０は、Ｗｉ－Ｆｉモジュール、Ｚｉｇｂｅｅ（登録商標）モジュール、ブルートゥースＢｌｕｅｔｏｏｔｈ）モジュールなどを含んでもよい。ここで、ブルートゥースモジュールは、ＢＬＥ基盤のＢｌｕｅｔｏｏｔｈ４．０以上だけではなく、Ｂｌｕｅｔｏｏｔｈ３．０を含んでもよい。
</base:Paragraphs>
      <base:Paragraphs num="0040">
  プロセッサ４１０は、メモリ４４０に格納された無線測位サービス提供ルーチンを実行してユーザが位置した建物内部でのユーザの現在位置を決め、現在位置に基づいた位置基盤サービスを提供してもよい。
</base:Paragraphs>
      <base:Paragraphs num="0041">
  プロセッサ４１０は、基本的な算術、ロジック、および無線測位サービス装置４００の入出力演算を実行することにより、コンピュータプログラムの命令を処理するように構成されてもよい。命令は、メモリ４４０またはネットワークインタフェース４３０により、そしてバス４２０を介してプロセッサ４１０に提供されてもよい。プロセッサ４１０は、信号収集部４１１および位置決定部４１２のためのプログラムコードを実行するように構成されてもよいが、このようなプログラムコードは、メモリ４４０のような記録装置に格納されてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0042">
  信号収集部４１１および位置決定部４１２は、図５の段階５１０～５５０を実行するために構成されてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0043">
  ５１０段階で、信号収集部４１１は、建物内部に配置された複数のビーコン送信機のうち、ユーザ周辺に位置する少なくとも１つのビーコン送信機からビーコン信号を受信する。このとき、ビーコン送信機は、建物内部の通路中心の天井部分に一定の間隔で配置されてもよく、ビーコン送信機の間には仮想ポイントが配置されてもよい。ここで、仮想ポイントは、ビーコン送信機の間に位置する空間の位置座標を含んでもよい。
</base:Paragraphs>
      <base:Paragraphs num="0044">
  ５２０段階で、位置決定部４１２は、受信したビーコン信号の強度に基づいて候補ビーコン信号を決めてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0045">
  一例として、位置決定部４１２は、受信したビーコン信号の強度（ＲＳＳＩ値）を比べ、強度が大きい順に予め設定された数の候補ビーコン信号を決めてもよい。例えば、２つの候補ビーコン信号を決める場合に、位置決定部４１２は、受信したビーコン信号のうち強度が最も大きい２つのビーコン信号を候補ビーコン信号として決め、２つの候補ビーコン信号の情報を格納してもよい。言い換えれば、位置決定部４１２は、２つの候補ビーコン信号の識別情報やＭＡＣアドレスなどを含むパケットデータを格納してもよい。また、残りのビーコン信号は廃棄し、格納空間の浪費を防いでもよい。
</base:Paragraphs>
      <base:Paragraphs num="0046">
  ５３０段階で、位置決定部４１２は、候補ビーコン信号の強度の差値を計算する。例えば、２つの候補ビーコン信号が決まった場合に、位置決定部４１２は、候補ビーコン信号１の強度（ＲＳＳＩ）と候補ビーコン信号２の強度（ＲＳＳＩ）の差値を計算してもよい。
</base:Paragraphs>
      <base:Paragraphs num="0047">
  ５４０段階で、位置決定部４１２は、前記計算された差値と予め設定された基準差値１および基準差値２に基づき、仮想ポイントおよびビーコン送信機のうち少なくとも１つを利用してユーザの現在位置を決める。ここで、前記計算された差値、基準差値１および２を利用してユーザの現在位置を決める動作については、図６～図９を参照しながら説明する。
</base:Paragraphs>
      <base:Paragraphs num="0048">
  ５５０段階で、プロセッサ４１０は、メモリ４４０に格納された無線測位サービス提供ルーチンを実行し、ユーザの現在位置に基づいた位置基盤サービスを提供する。
</base:Paragraphs>
      <base:Paragraphs num="0049">
  例えば、無線測位サービス提供ルーチンは、建物内部でのユーザの現在位置に基づいた道案内などの室内地図を提供したり、ユーザの移動によって建物内部の各商店に該当するイベントやクーポン割引情報などを提供してもよい。
</base:Paragraphs>
      <base:Paragraphs num="0050">
  このとき、ジャイロセンサ４５０は、ユーザの方向転換を感知してもよい。これにより、無線測位サービス提供ルーチンは、ユーザが左側／右側方向などに方向を転換したり、建物内部の通路の角や交差路などでユーザが方向を転換することによる位置変化を直ちに室内地図に反映することができる。例えば、無線測位サービス提供ルーチンは、ユーザが転換した方向を基準にして室内地図を回転してユーザに提供してもよい。ジャイロセンサ４５０を利用してユーザの詳細な移動経路を提供する動作については、図１０を参照しながら説明する。
</base:Paragraphs>
      <base:Paragraphs num="0051">
  図６は、本発明の一実施形態において、基準差値１および２を利用してユーザの現在位置を決める詳細動作を示したフローチャートである。言い換えれば、図６は、図５の５４０段階の詳細なフローチャートである。さらに、図７および図８は、本発明の一実施形態において、ビーコン送信機を利用してユーザの現在位置を決める例示図であり、図９は、仮想ポイントを利用してユーザの現在位置を決める例示図である。
</base:Paragraphs>
      <base:Paragraphs num="0052">
  ６１０段階で、位置決定部４１２は、候補ビーコン信号の差値が予め設定された基準回数以上が基準差値１以上であるかを比べる。例えば、基準回数は２回以上に予め設定され、基準差値１は５ｄＢ、１０ｄＢなどに予め設定されてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0053">
  このとき、位置決定部４１２は、前記候補ビーコン信号の差値が基準回数未満である場合、例えば、前記差値が基準差値１以上の場合が１回である場合には、予め設定された一定時間だけ前記差値を臨時格納してもよい。そして、一定時間以内に基準差値１以上の差値が存在しなければ、位置決定部４１２は、臨時格納された差値を廃棄してもよい。
</base:Paragraphs>
      <base:Paragraphs num="0054">
  そして、一定時間以内に基準差値１以上の差値が存在すれば、位置決定部４１２は、差値の計算に利用された候補ビーコン信号を送信したビーコン送信機の位置座標に基づいてユーザの現在位置を決めてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0055">
  一例として、図７を参照すると、Ａビーコン送信機とＢビーコン送信機から送信されたビーコン信号が候補ビーコン信号として決まり、２つのビーコン信号の差値の基準回数以上が基準差値１以上である場合（６１０：ＹＥＳ）には、位置決定部４１２は、ビーコン送信機の座標に基づいてユーザの現在位置を決めてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0056">
  このとき、図７のように、Ａビーコン送信機のビーコン信号がＢビーコン送信機のビーコン信号よりも強度が大きい場合、位置決定部４１２は、Ａビーコン送信機の位置座標に基づいてユーザの現在位置を決めてもよい。例えば、ビーコン信号の強度は、ビーコン送信機が設置された位置から距離が遠ざかるほど減少するという特性があるため、位置決定部４１２は、予め格納されたビーコン信号と距離との特性関係に基づき、Ａビーコン送信機から受信したビーコン信号の強度に基づいてＡビーコン送信機からユーザがどのくらい離れた位置にいるかを計算してもよい。そして、位置決定部４１２は、計算された値に基づいてユーザの現在位置座標を決めてもよい。この他にも、ビーコン送信機の間の間隔が小さい場合、位置決定部４１２は、処理速度を高めてより迅速に位置基盤サービスを提供するために、単純にＡビーコン送信機の位置座標をユーザの現在位置として決めてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0057">
  同じように、図８のように、Ｂビーコン送信機のビーコン信号がＡビーコン送信機のビーコン信号よりも大きい場合、位置決定部４１２は、Ｂビーコン送信機の位置座標に基づいてユーザの現在位置を決めてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0058">
  一方、６１０段階で、前記差値の基準回数以上が基準差値１以上でない場合（６１０：ＮＯ）、位置決定部４１２は、回数カウント１を１つ増加させる。ここで、回数カウント１は、以後に差値が基準差値１以上である場合が発生した回数が基準回数以上であるかを比べるために利用されてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0059">
  ６３０段階で、位置決定部４１２は、候補ビーコン信号の強度差値の基準回数以上が基準差値２以下であるかを比べてもよい。ここで、基準回数は、２回以上に予め設定され、基準差値１と比較するために利用された基準回数と同じであるか異なる値で予め設定されてもよい。そして、基準差値２は、３ｄＢ以下の値に予め設定されてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0060">
  一例として、基準回数以上の前記差値が基準差値２以下である場合（６３０：ＹＥＳ）、位置決定部４１２は、２つの候補ビーコン信号に該当するビーコン送信機の間に位置する仮想ポイント（ＶＰ）の位置座標に基づいてユーザの現在位置を決めてもよい。図９を参照すると、無線測位サービス装置９０１がＡビーコン送信機９０２からＢビーコン送信機９０３が設置された通路を移動する場合、移動により、無線測位サービス装置９０１は、Ａビーコン送信機９０２から受信したビーコン信号とＢビーコン送信機９０３から受信したビーコン信号の強度が類似する空間に位置することがある。例えば、ＡおよびＢビーコン信号の強度の差値が３ｄＢ以下であってもよい。
</base:Paragraphs>
      <base:Paragraphs num="0061">
  ６４０段階で、位置決定部４１２は、Ａビーコン送信機９０２とＢビーコン送信機９０３の間に配置された仮想ポイント（ＶＰ）９０４の位置座標をユーザの現在位置として決める。そして、無線測位サービス提供ルーチン４４２は、仮想ポイントを利用して決められた現在位置に基づいて位置基盤サービスを提供してもよい。このように、２つのビーコン送信機の強度が類似する場合には、中間に配置された仮想ポイントを利用してユーザの現在位置を決めることにより、ユーザの現在位置をより精巧に決めることができる。例えば、誤差範囲は５～６ｍに減少されてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0062">
  このとき、基準回数以上の差値が基準差値２以下でない場合（６３０：ＮＯ）、位置決定部４１２は、回数カウント２を１つ増加させ、続いてビーコン信号を収集する。言い換えれば、図５の５１０段階に戻り、図５および図６で説明した各段階（５１０～５５０、６１０～６４０）を繰り返してもよい。ここで、回数カウント２は、以後に差値が基準差値２以下である場合が発生した回数が基準回数以下であるかを比べるために利用されてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0063">
  図１０は、本発明の一実施形態において、ジャイロセンサを利用してユーザの詳細な移動経路を提供する動作を説明するために提供される例示図である。
</base:Paragraphs>
      <base:Paragraphs num="0064">
  建物内部などの室内では、下水道パイプや電気配線などのように磁性に影響を及ぼす構造物が多く存在するため、東西南北の磁性がすべて異なる。単純に羅針盤によって室内でのユーザの方向（例えば、東西南北）を決める場合は、誤差が極めて大きく、まったく違う方向がユーザの方向として決まる。これにより、本実施形態では、図１０を参照しながら、室内でもユーザの方向を正確に決めるためにジャイロセンサおよびビーコンを利用する動作について説明する。例えば、ジャイロセンサを利用すると、東西南北の方向を知ることはできないが、センシング値に基づいてどれだけ回ったかを知ることができる。さらに、ビーコン送信機または仮想ポイントを利用することにより、基準点を知ることができる。これにより、無線測位サービス装置は、基準点を基準として９０度や１８０度などの方向転換が発生することを確認することができる。
</base:Paragraphs>
      <base:Paragraphs num="0065">
  図１０を参照すると、スマートフォンなどの無線測位サービス装置を所持するユーザが建物内部を移動するとき、通路の中心を一定に移動するというよりは、通路を基準として両側の商店にディスプレイされた製品を見物したり、あるいは人を避けて左側や右側などに方向移動しながら目的地まで移動する。このように、目的地まで移動するときに、無線測位サービス装置３００は、ジャイロセンサを利用してユーザの詳細な移動経路１００１を室内地図などにディスプレイしてもよい。そして、ユーザの詳細移動によって変わった方向を室内地図に反映し、地図を回転してユーザに提供してもよい。
</base:Paragraphs>
      <base:Paragraphs num="0066">
  例えば、ユーザが角から左側に移動した場合、ジャイロセンサは、左側に方向転換したことを直ちに感知する。これにより、無線測位サービス提供ルーチン４４２は、室内地図をユーザが方向を転換した方向に回転して提供することができる。このように、室内地図がユーザの方向転換によって回転しながら現在位置から目的地まで提供されることにより、より精巧にユーザに道案内を提供することができる。
</base:Paragraphs>
      <base:Paragraphs num="0067">
  図１１は、本発明の一実施形態において、位置基盤サービス提供方法の実行環境の例を示した図である。図１１は、無線測位サービス装置１１１０、ファイル配布システム１１２０、およびインストールファイル１１３０を示している。
</base:Paragraphs>
      <base:Paragraphs num="0068">
  無線測位サービス装置１１１０は、スマートフォン、タブレット、ＰＣなどのように、移動通信とデータ通信がすべて可能なユーザ移動端末であってもよく、ファイル配布システム１１２０は、インストールファイル１１３０を提供するサーバであってもよい。
</base:Paragraphs>
      <base:Paragraphs num="0069">
  一例として、ファイル配布システム１１２０は、インストールファイル１１３０を格納および管理するインストールファイル管理部１１２１、および無線測位サービス装置１１１０の要請にしたがってインストールファイル１１３０を無線測位サービス装置１１１０に送信するインストールファイル送信部１１２２を含んでもよい。例えば、ファイル配布システム１１２０は、本発明の実施形態によって動作するアプリケーションを無線測位サービス装置１１１０に提供するインストールファイル１１３０が１人以上のアプリケーション販売者または開発者から登録されるアプリケーションストア（Ａｐｐｌｉｃａｔｉｏｎ  Ｓｔｏｒｅ）などであってもよい。
</base:Paragraphs>
      <base:Paragraphs num="0070">
  無線測位サービス装置１１１０は、ファイル配布システム１１２０から受信したインストールファイル１１３０によってアプリケーションをインストール（ｉｎｓｔａｌｌａｔｉｏｎ）し、インストールされたアプリケーションにしたがって、本発明の実施形態に係る無線測位サービス提供方法を実行するようになる。
</base:Paragraphs>
      <base:Paragraphs num="0071">
  例えば、アプリケーションは、ビーコン送信機が配置された空間の間に位置する仮想ポイントおよびビーコン信号を送信したビーコン送信機のうち少なくとも１つを利用してユーザの現在位置を決め、決められたユーザの現在位置に基づく位置基盤サービスが提供されるように移動端末を制御してもよい。
</base:Paragraphs>
      <base:Paragraphs num="0072">
  また、アプリケーションは、ユーザが所持する移動端末に備えられたジャイロセンサに基づいてユーザの方向転換が感知されることにより、方向転換による詳細な移動経路を室内地図にディスプレイするように移動端末を制御してもよい。このとき、アプリケーションは、方向によって室内地図を回転してディスプレイするように移動端末を制御してもよい。
</base:Paragraphs>
      <base:Paragraphs num="0073">
  また、アプリケーションは、ビーコン送信機から収集されたビーコン信号の強度に基づいて候補ビーコン信号を決めるように移動端末を制御してもよい。また、アプリケーションは、候補ビーコン信号の信号強度の差値と予め設定された基準差値１および２に基づき、ユーザの現在位置が仮想ポイントに該当するかを決めるように移動端末を制御してもよい。このとき、アプリケーションは、ユーザの現在位置が仮想ポイントに該当することにより、仮想ポイントに該当する位置座標をユーザの現在位置として決めるように移動端末を制御してもよい。また、ユーザの現在位置が仮想ポイントに該当しない場合、アプリケーションは、候補ビーコン信号のうち、強度が最も大きいビーコン信号に該当するビーコン送信機の位置座標に基づいてユーザの現在位置が決まるように移動端末を制御してもよい。
</base:Paragraphs>
      <base:Paragraphs num="0074">
  さらに、アプリケーションは、決められたユーザの現在位置に基づいた位置基盤サービスが提供されるように移動端末を制御してもよい。このとき、アプリケーションは、ユーザの現在位置だけではなく、詳細な移動経路が案内されるように移動端末を制御してもよい。
</base:Paragraphs>
      <base:Paragraphs num="0075">
  この他にも、アプリケーションは、モバイル決済サービスやイベントホールでの作品案内などのようなＢＬＥ（Ｂｌｕｅｔｏｏｔｈ  Ｌｏｗ  Ｅｎｅｒｇｙ）基盤のサービスが提供されるように移動端末を制御してもよい。
</base:Paragraphs>
      <base:Paragraphs num="0076">
  以上では、無線測位サービス装置が移動端末である場合について例示して説明したが、無線測位サービス装置としては、移動端末に位置基盤サービスを提供するサーバが利用されてもよく、これについては以下の図１２を参照しながら説明することにする。
</base:Paragraphs>
      <base:Paragraphs num="0077">
  図１２は、本発明の他の実施形態において、無線測位サービス装置の詳細構成を示したブロック図である。無線測位サービス装置１２００は、情報受信部１２１０、位置決定部１２２０、およびサービス提供部１２３０を備えてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0078">
  位置基盤サービスの提供を受けるために移動端末がサーバからアプリケーションをダウンロードしてインストールした後、アプリケーションを実行すると、情報受信部１２１０は、移動端末１２０１に収集されたビーコン信号を前記アプリケーションによって受信してもよい。
</base:Paragraphs>
      <base:Paragraphs num="0079">
  位置決定部１２２０は、受信したビーコン信号を利用してユーザの現在位置を決めてもよい。ここで、図１２の位置決定部１２２０で現在位置を決める動作は、図４の位置決定部４１２で現在位置を決める動作と実質的に同じであるため、重複する説明は省略する。
</base:Paragraphs>
      <base:Paragraphs num="0080">
  サービス提供部１２３０は、決められたユーザの現在位置に基づいて位置基盤サービスを移動端末に提供してもよい。サービス提供部１２３０は、移動端末１２０１がアプリケーションを実行することによって無線測位サービス装置１２００と移動端末の間に形成されたインタフェースを利用して位置基盤サービスを移動端末１２０１に提供してもよい。例えば、サービス提供部１２３０は、移動端末にユーザの現在位置をディスプレイしたり、現在位置を基盤として目的地までの道案内を提供したり、あるいは現在位置周辺の関心地点情報などを提供する位置基盤サービスを提供したりしてもよい。
</base:Paragraphs>
      <base:Paragraphs num="0081">
  本発明の実施例によると、ビーコン送信機の間に仮想空間である仮想ポイントを配置することにより、ビーコン送信機を極めて隙間なく、あるいは極めて広く配置しない上に、配置費用を節減し、信号重畳を減少または除去するようにビーコン送信機を適切に配置することができる。
</base:Paragraphs>
      <base:Paragraphs num="0082">
  本発明の実施例によると、ビーコン送信機の間に配置された仮想ポイントおよびビーコン送信機から受信されたビーコン信号を利用し、建物内部でユーザの位置をより精巧に測定することができる。
</base:Paragraphs>
      <base:Paragraphs num="0083">
  本発明の実施例によると、移動端末のジャイロセンサを利用して位置基盤サービスを提供することにより、ユーザの詳細な移動経路を提供することができる。
</base:Paragraphs>
      <base:Paragraphs num="0084">
  実施形態に係る方法は、多様なコンピュータ手段によって実行が可能なプログラム命令形態で実現されてコンピュータで読み取り可能な媒体に記録されてもよい。前記コンピュータで読み取り可能な媒体は、プログラム命令、データファイル、データ構造などを単独または組み合わせて含んでもよい。前記媒体に記録されるプログラム命令は、実施形態のために特別に設計されて構成されたものであってもよく、コンピュータソフトウェア当業者に公知されて使用可能なものであってもよい。コンピュータで読み取り可能な記録媒体の例としては、ハードディスク、フロッピー（登録商標）ディスク、および磁気テープのような磁気媒体（ｍａｇｎｅｔｉｃ  ｍｅｄｉａ）、ＣＤ－ＲＯＭ、ＤＶＤのような光記録媒体（ｏｐｔｉｃａｌ  ｍｅｄｉａ）、フロプティカルディスク（ｆｌｏｐｔｉｃａｌ  ｄｉｓｋ）のような磁気－光媒体（ｍａｇｎｅｔｏ－ｏｐｔｉｃａｌ  ｍｅｄｉａ）、およびＲＯＭ、ＲＡＭ、フラッシュメモリなどのようなプログラム命令を格納して実行するように特別に構成されたハードウェア装置が含まれる。プログラム命令の例としては、コンパイラによって生成されるもののような機械語コードだけではなく、インタプリタなどを使用してコンピュータによって実行される高級言語コードを含む。上述したハードウェア装置は、実施形態の動作を実行するために１つ以上のソフトウェアモジュールとして動作するように構成されてもよく、その逆も同じである。
</base:Paragraphs>
      <base:Paragraphs num="0085">
  以上のように、実施形態を限定された実施形態と図面に基づいて説明したが、該当する技術分野において通常の知識を有する者であれば、上述した記載から多様な修正および変形が可能である。例えば、説明された技術が説明された方法とは異なる順序で実行されたり、および／または説明されたシステム、構造、装置、回路などの構成要素が説明された方法とは異なる形態で結合または組み合わされたり、他の構成要素または均等物によって対置されたり置換されたとしても、適切な結果を達成することができる。
</base:Paragraphs>
      <base:Paragraphs num="0086">
  したがって、異なる実施形態であっても、特許請求の範囲と均等なものであれば、添付される特許請求の範囲に属する。
</base:Paragraphs>
    </business:EmbodimentsDescription>
  </business:Description>
  <business:Drawings lang="ja" sourceDB="JP">
    <base:Figure num="0001">
      <base:Image id="000003" he="42" wi="67" file="2016126002_000003.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0002">
      <base:Image id="000004" he="41" wi="67" file="2016126002_000004.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0003">
      <base:Image id="000005" he="63" wi="67" file="2016126002_000005.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0004">
      <base:Image id="000006" he="89" wi="70" file="2016126002_000006.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0005">
      <base:Image id="000007" he="67" wi="66" file="2016126002_000007.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0006">
      <base:Image id="000008" he="61" wi="67" file="2016126002_000008.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0007">
      <base:Image id="000009" he="43" wi="67" file="2016126002_000009.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0008">
      <base:Image id="000010" he="37" wi="67" file="2016126002_000010.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0009">
      <base:Image id="000011" he="41" wi="67" file="2016126002_000011.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0010">
      <base:Image id="000012" he="32" wi="67" file="2016126002_000012.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0011">
      <base:Image id="000013" he="32" wi="66" file="2016126002_000013.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
    <base:Figure num="0012">
      <base:Image id="000014" he="41" wi="67" file="2016126002_000014.TIF" imgContent="drawing" imgFormat="TIFF" />
    </base:Figure>
  </business:Drawings>
  <business:Claims lang="ja" dataFormat="original" sourceDB="JP">
    <business:Claim num="0001">
      <business:ClaimText>
  ユーザ周辺に位置するビーコン送信機からビーコン信号を収集する段階、および
  前記ビーコン送信機が配置された空間の間に位置する仮想ポイントおよび前記ビーコン信号のうち少なくとも１つを利用してユーザの現在位置を決める段階
  を含む、無線測位サービス方法。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0002">
      <business:ClaimText>
  前記仮想ポイントは、
  前記ユーザが位置する建物内部に予め設定された一定の間隔に配置されたビーコン送信機の間に位置する空間のうち、前記建物内部に形成された通路の角および交差路のうち少なくとも１つに仮想配置される、請求項１に記載の無線測位サービス方法。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0003">
      <business:ClaimText>
  前記ユーザの現在位置を決める段階は、
  前記ビーコン送信機から収集されたビーコン信号の強度に基づいて候補ビーコン信号を決める段階、
  前記候補ビーコン信号の信号強度に基づいて前記ユーザの現在位置が仮想ポイントに該当するかを決める段階、および
  前記ユーザの現在位置が前記仮想ポイントに該当することにより、前記仮想ポイントに該当する位置座標を前記ユーザの現在位置として決める段階
  を含む、請求項１または２に記載の無線測位サービス方法。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0004">
      <business:ClaimText>
  前記ユーザの現在位置が仮想ポイントに該当するかを決める段階は、
  前記候補ビーコン信号の信号強度の差値と予め設定された基準差値に基づいて前記現在位置が仮想ポイントに該当するかを決める、請求項３に記載の無線測位サービス方法。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0005">
      <business:ClaimText>
  前記ユーザの現在位置に基づいた位置基盤サービスを提供する段階
  をさらに含む、請求項１～４のうちいずれか一項に記載の無線測位サービス方法。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0006">
      <business:ClaimText>
  前記ユーザが所持する移動端末に備えられたジャイロセンサに基づいてユーザの方向転換が感知されることにより、方向転換による移動経路をディスプレイする段階
  をさらに含む、請求項１～５のうちいずれか一項に記載の無線測位サービス方法。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0007">
      <business:ClaimText>
  前記移動経路をディスプレイする段階は、
  方向によって室内地図を回転してディスプレイする、請求項６に記載の無線測位サービス方法。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0008">
      <business:ClaimText>
  前記ビーコン信号を収集する段階は、
  予め構築された前記ビーコン送信機を利用して前記ビーコン信号を収集する、請求項１～７のうちいずれか一項に記載の無線測位サービス方法。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0009">
      <business:ClaimText>
  請求項１～８のうちいずれか一項に記載の方法をコンピュータで実行するためのコンピュータプログラム。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0010">
      <business:ClaimText>
  ユーザの移動端末にアプリケーションをインストールするためのインストールファイルを配布するファイル配布システムであって、
  前記インストールファイルを格納および管理するインストールファイル管理部、および
  前記移動端末の要請にしたがって前記インストールファイルを前記移動端末に送信するインストールファイル送信部
  を備え、
  前記アプリケーションは、
  ビーコン送信機が配置された空間の間に位置する仮想ポイントおよび前記ビーコン送信機から収集されたビーコン信号のうち少なくとも１つを利用して決められたユーザの現在位置に基づく位置基盤サービスが提供されるように前記移動端末を制御する、ファイル配布システム。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0011">
      <business:ClaimText>
  前記アプリケーションは、
  前記ユーザが所持する移動端末に備えられたジャイロセンサに基づいてユーザの方向転換が感知されることにより、方向転換による移動経路を室内地図にディスプレイするように前記移動端末を制御する、請求項１０に記載のファイル配布システム。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0012">
      <business:ClaimText>
  前記アプリケーションは、
  方向によって前記室内地図を回転してディスプレイするように前記移動端末を制御する、請求項１１に記載のファイル配布システム。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0013">
      <business:ClaimText>
  前記アプリケーションは、
  前記ビーコン送信機から収集されたビーコン信号の強度に基づいて候補ビーコン信号を決めるように前記移動端末を制御し、
  前記候補ビーコン信号の信号強度に基づいて前記ユーザの現在位置が仮想ポイントに該当するかを決めるように前記移動端末を制御し、
  前記ユーザの現在位置が前記仮想ポイントに該当することにより、前記仮想ポイントに該当する位置座標を前記ユーザの現在位置として決めるように前記移動端末を制御する、請求項１０～１２のうちいずれか一項に記載のファイル配布システム。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0014">
      <business:ClaimText>
  前記ファイル配布システムは、
  前記アプリケーションを移動端末にインストールするためのインストールファイルが１人以上のアプリケーション販売者または開発者から登録されるアプリケーションストアであることを特徴とする、請求項１０～１３のうちいずれか一項に記載のファイル配布システム。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0015">
      <business:ClaimText>
  ユーザ周辺に位置するビーコン送信機からビーコン信号を収集する信号収集部、および
  前記ビーコン送信機が配置された空間の間に位置する仮想ポイントおよび前記ビーコン信号のうち少なくとも１つを利用してユーザの現在位置を決める位置決定部
  を備える、無線測位サービス装置。
</business:ClaimText>
    </business:Claim>
    <business:Claim num="0016">
      <business:ClaimText>
  ユーザの移動端末にインストールされたアプリケーションを利用してユーザ周辺に位置するビーコン送信機から収集されたビーコン信号を受信する情報受信部、
  前記ビーコン送信機が配置された空間の間に位置する仮想ポイントおよび前記ビーコン信号のうち少なくとも１つを利用してユーザの現在位置を決める位置決定部、および
  決められたユーザの現在位置に基づいた位置基盤サービスを前記移動端末に提供するサービス提供部
  を備える、無線測位サービス装置。
</business:ClaimText>
    </business:Claim>
  </business:Claims>
</business:PatentDocumentAndRelated>